<!DOCTYPE html>

<html lang="fr" data-content_root="../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />
<meta property="og:title" content="email.headerregistry: Custom Header Objects" />
<meta property="og:type" content="website" />
<meta property="og:url" content="https://docs.python.org/3/library/email.headerregistry.html" />
<meta property="og:site_name" content="Python documentation" />
<meta property="og:description" content="Code source : Lib/email/headerregistry.py Les en-têtes sont représentés par des sous-classes personnalisées de str. La classe particulière utilisée pour représenter un en-tête donné est déterminée ..." />
<meta property="og:image" content="https://docs.python.org/3/_static/og-image.png" />
<meta property="og:image:alt" content="Python documentation" />
<meta name="description" content="Code source : Lib/email/headerregistry.py Les en-têtes sont représentés par des sous-classes personnalisées de str. La classe particulière utilisée pour représenter un en-tête donné est déterminée ..." />
<meta property="og:image:width" content="200" />
<meta property="og:image:height" content="200" />
<meta name="theme-color" content="#3776ab" />

    <title>email.headerregistry: Custom Header Objects &#8212; Documentation Python 3.12.4</title><meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css%3Fv=80d5e7a1.css" />
    <link rel="stylesheet" type="text/css" href="../_static/pydoctheme.css%3Fv=bb723527.css" />
    <link id="pygments_dark_css" media="(prefers-color-scheme: dark)" rel="stylesheet" type="text/css" href="../_static/pygments_dark.css%3Fv=b20cc3f5.css" />
    
    <script src="../_static/documentation_options.js%3Fv=6f87fcbb"></script>
    <script src="../_static/doctools.js%3Fv=9a2dae69"></script>
    <script src="../_static/sphinx_highlight.js%3Fv=dc90522c"></script>
    <script src="../_static/translations.js%3Fv=bf059b8c"></script>
    
    <script src="../_static/sidebar.js"></script>
    
    <link rel="search" type="application/opensearchdescription+xml"
          title="Recherchez dans Documentation Python 3.12.4"
          href="../_static/opensearch.xml"/>
    <link rel="author" title="À propos de ces documents" href="../about.html" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Recherche" href="../search.html" />
    <link rel="copyright" title="Copyright" href="../copyright.html" />
    <link rel="next" title="email.contentmanager: Managing MIME Content" href="email.contentmanager.html" />
    <link rel="prev" title="email.errors: Exception and Defect classes" href="email.errors.html" />
    
      <script defer data-domain="docs.python.org" src="https://plausible.io/js/script.js"></script>
    
    <link rel="canonical" href="../../../3/library/email.headerregistry.html" />
    
      
    

    
    <style>
      @media only screen {
        table.full-width-table {
            width: 100%;
        }
      }
    </style>
<link rel="stylesheet" href="../_static/pydoctheme_dark.css" media="(prefers-color-scheme: dark)" id="pydoctheme_dark_css">
    <link rel="shortcut icon" type="image/png" href="../_static/py.svg" />
            <script type="text/javascript" src="../_static/copybutton.js"></script>
            <script type="text/javascript" src="../_static/menu.js"></script>
            <script type="text/javascript" src="../_static/search-focus.js"></script>
            <script type="text/javascript" src="../_static/themetoggle.js"></script> 
<meta name="readthedocs-addons-api-version" content="1">
<script type="text/javascript">
 function onSwitch(event) {
     const option = event.target.selectedIndex;
     const item = event.target.options[option];
     window.location.href = item.dataset.url;
 }

 document.addEventListener("readthedocs-addons-data-ready", function(event) {
   const config = event.detail.data()

   // Add some mocked hardcoded versions pointing to the official
   // documentation while migrating to Read the Docs.
   // These are only for testing purposes.
   // TODO: remove them when managing all the versions on Read the Docs,
   // since all the "active, built and not hidden" versions will be shown automatically.
   let versions = config.versions.active.concat([
       {
           slug: "dev (3.13)",
           urls: {
               documentation: "https://docs.python.org/3.13/",
           }
       },
       {
           slug: "3.12",
           urls: {
               documentation: "https://docs.python.org/3.12/",
           }
       },
       {
           slug: "3.11",
           urls: {
               documentation: "https://docs.python.org/3.11/",
           }
       },
   ]);

   const versionSelect = `
   <select id="version_select">
   ${ versions.map(
       (version) => `
       <option
           value="${ version.slug }"
           ${ config.versions.current.slug === version.slug ? 'selected="selected"' : '' }
           data-url="${ version.urls.documentation }">
           ${ version.slug }
       </option>`
   ).join("\n") }
   </select>
   `;

   // Prepend the current language to the options on the selector
   let languages = config.projects.translations.concat(config.projects.current);
   languages = languages.sort((a, b) => a.language.name.localeCompare(b.language.name));

   const languageSelect = `
   <select id="language_select">
   ${ languages.map(
       (translation) => `
       <option
           value="${ translation.slug }"
           ${ config.projects.current.slug === translation.slug ? 'selected="selected"' : '' }
           data-url="${ translation.urls.documentation }">
           ${ translation.language.name }
       </option>`
   ).join("\n") }
   </select>
   `;

   // Query all the placeholders because there are different ones for Desktop/Mobile
   const versionPlaceholders = document.querySelectorAll(".version_switcher_placeholder");
   for (placeholder of versionPlaceholders) {
       placeholder.innerHTML = versionSelect;
       let selectElement = placeholder.querySelector("select");
       selectElement.addEventListener("change", onSwitch);
   }

   const languagePlaceholders = document.querySelectorAll(".language_switcher_placeholder");
   for (placeholder of languagePlaceholders) {
       placeholder.innerHTML = languageSelect;
       let selectElement = placeholder.querySelector("select");
       selectElement.addEventListener("change", onSwitch);
   }
 });
</script>

  </head>
<body>
<div class="mobile-nav">
    <input type="checkbox" id="menuToggler" class="toggler__input" aria-controls="navigation"
           aria-pressed="false" aria-expanded="false" role="button" aria-label="Menu" />
    <nav class="nav-content" role="navigation">
        <label for="menuToggler" class="toggler__label">
            <span></span>
        </label>
        <span class="nav-items-wrapper">
            <a href="https://www.python.org/" class="nav-logo">
                <img src="../_static/py.svg" alt="Python logo"/>
            </a>
            <span class="version_switcher_placeholder"></span>
            <form role="search" class="search" action="../search.html" method="get">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" class="search-icon">
                    <path fill-rule="nonzero" fill="currentColor" d="M15.5 14h-.79l-.28-.27a6.5 6.5 0 001.48-5.34c-.47-2.78-2.79-5-5.59-5.34a6.505 6.505 0 00-7.27 7.27c.34 2.8 2.56 5.12 5.34 5.59a6.5 6.5 0 005.34-1.48l.27.28v.79l4.25 4.25c.41.41 1.08.41 1.49 0 .41-.41.41-1.08 0-1.49L15.5 14zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"></path>
                </svg>
                <input placeholder="Recherche rapide" aria-label="Recherche rapide" type="search" name="q" />
                <input type="submit" value="Go"/>
            </form>
        </span>
    </nav>
    <div class="menu-wrapper">
        <nav class="menu" role="navigation" aria-label="main navigation">
            <div class="language_switcher_placeholder"></div>
            
<label class="theme-selector-label">
    Theme
    <select class="theme-selector" oninput="activateTheme(this.value)">
        <option value="auto" selected>Auto</option>
        <option value="light">Light</option>
        <option value="dark">Dark</option>
    </select>
</label>
  <div>
    <h4>Sujet précédent</h4>
    <p class="topless"><a href="email.errors.html"
                          title="Chapitre précédent"><code class="xref py py-mod docutils literal notranslate"><span class="pre">email.errors</span></code>: Exception and Defect classes</a></p>
  </div>
  <div>
    <h4>Sujet suivant</h4>
    <p class="topless"><a href="email.contentmanager.html"
                          title="Chapitre suivant"><code class="xref py py-mod docutils literal notranslate"><span class="pre">email.contentmanager</span></code>: Managing MIME Content</a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>Cette page</h3>
    <ul class="this-page-menu">
      <li><a href="../bugs.html">Signalement de bogue</a></li>
      <li>
        <a href="https://github.com/python/cpython/blob/main/Doc/library/email.headerregistry.rst"
            rel="nofollow">Voir la source
        </a>
      </li>
    </ul>
  </div>
        </nav>
    </div>
</div>

  
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="Index général"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Index des modules Python"
             >modules</a> |</li>
        <li class="right" >
          <a href="email.contentmanager.html" title="email.contentmanager: Managing MIME Content"
             accesskey="N">suivant</a> |</li>
        <li class="right" >
          <a href="email.errors.html" title="email.errors: Exception and Defect classes"
             accesskey="P">précédent</a> |</li>

          <li><img src="../_static/py.svg" alt="Python logo" style="vertical-align: middle; margin-top: -1px"/></li>
          <li><a href="https://www.python.org/">Python</a> &#187;</li>
          <li class="switchers">
            <div class="language_switcher_placeholder"></div>
            <div class="version_switcher_placeholder"></div>
          </li>
          <li>
              
          </li>
    <li id="cpython-language-and-version">
      <a href="../index.html">3.12.4 Documentation</a> &#187;
    </li>

          <li class="nav-item nav-item-1"><a href="index.html" >La bibliothèque standard</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="netdata.html" >Traitement des données provenant d'Internet</a> &#187;</li>
          <li class="nav-item nav-item-3"><a href="email.html" accesskey="U"><code class="xref py py-mod docutils literal notranslate"><span class="pre">email</span></code> --- An email and MIME handling package</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="email.headerregistry.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">email.headerregistry</span></code>: Custom Header Objects</a></li>
                <li class="right">
                    

    <div class="inline-search" role="search">
        <form class="inline-search" action="../search.html" method="get">
          <input placeholder="Recherche rapide" aria-label="Recherche rapide" type="search" name="q" id="search-box" />
          <input type="submit" value="Go" />
        </form>
    </div>
                     |
                </li>
            <li class="right">
<label class="theme-selector-label">
    Theme
    <select class="theme-selector" oninput="activateTheme(this.value)">
        <option value="auto" selected>Auto</option>
        <option value="light">Light</option>
        <option value="dark">Dark</option>
    </select>
</label> |</li>
            
      </ul>
    </div>    

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="module-email.headerregistry">
<span id="email-headerregistry-custom-header-objects"></span><h1><code class="xref py py-mod docutils literal notranslate"><span class="pre">email.headerregistry</span></code>: Custom Header Objects<a class="headerlink" href="email.headerregistry.html#module-email.headerregistry" title="Lien vers cette rubrique">¶</a></h1>
<p><strong>Code source :</strong> <a class="reference external" href="https://github.com/python/cpython/tree/3.12/Lib/email/headerregistry.py">Lib/email/headerregistry.py</a></p>
<hr class="docutils" />
<div class="versionadded">
<p><span class="versionmodified added">Added in version 3.6: </span><a class="footnote-reference brackets" href="email.headerregistry.html#id2" id="id1" role="doc-noteref"><span class="fn-bracket">[</span>1<span class="fn-bracket">]</span></a></p>
</div>
<p>Les en-têtes sont représentés par des sous-classes personnalisées de <a class="reference internal" href="stdtypes.html#str" title="str"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>. La classe particulière utilisée pour représenter un en-tête donné est déterminée par <a class="reference internal" href="email.policy.html#email.policy.EmailPolicy.header_factory" title="email.policy.EmailPolicy.header_factory"><code class="xref py py-attr docutils literal notranslate"><span class="pre">header_factory</span></code></a> de la <a class="reference internal" href="email.policy.html#module-email.policy" title="email.policy: Controlling the parsing and generating of messages"><code class="xref py py-mod docutils literal notranslate"><span class="pre">policy</span></code></a> en vigueur lorsque les en-têtes sont créés. Cette section documente la <code class="docutils literal notranslate"><span class="pre">header_factory</span></code> particulière implémentée par le paquet de messagerie pour la gestion des messages électroniques conformes à la <span class="target" id="index-30"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc5322.html"><strong>RFC 5322</strong></a>, qui fournit non seulement des objets d'en-tête personnalisés pour différents types d'en-tête, mais fournit également un mécanisme d'extension permettant aux applications d'ajouter leurs propres types d'en-tête personnalisés.</p>
<p>Lors de l'utilisation de l'un des objets de définition de politique dérivés de <a class="reference internal" href="email.policy.html#email.policy.EmailPolicy" title="email.policy.EmailPolicy"><code class="xref py py-data docutils literal notranslate"><span class="pre">EmailPolicy</span></code></a>, tous les en-têtes sont produits par <a class="reference internal" href="email.headerregistry.html#email.headerregistry.HeaderRegistry" title="email.headerregistry.HeaderRegistry"><code class="xref py py-class docutils literal notranslate"><span class="pre">HeaderRegistry</span></code></a> et ont <a class="reference internal" href="email.headerregistry.html#email.headerregistry.BaseHeader" title="email.headerregistry.BaseHeader"><code class="xref py py-class docutils literal notranslate"><span class="pre">BaseHeader</span></code></a> comme dernière classe mère. Chaque classe d'en-tête a une classe mère supplémentaire qui est déterminée par le type de l'en-tête. Par exemple, de nombreux en-têtes ont la classe <a class="reference internal" href="email.headerregistry.html#email.headerregistry.UnstructuredHeader" title="email.headerregistry.UnstructuredHeader"><code class="xref py py-class docutils literal notranslate"><span class="pre">UnstructuredHeader</span></code></a> comme autre classe mère. La deuxième classe spécialisée pour un en-tête est déterminée par le nom de l'en-tête, en utilisant un tableau de recherche stocké dans <a class="reference internal" href="email.headerregistry.html#email.headerregistry.HeaderRegistry" title="email.headerregistry.HeaderRegistry"><code class="xref py py-class docutils literal notranslate"><span class="pre">HeaderRegistry</span></code></a>. Tout cela est géré de manière transparente pour le programme d'application typique, mais des interfaces sont fournies pour modifier le comportement par défaut pour une utilisation par des applications plus complexes.</p>
<p>Les sections ci-dessous documentent d'abord les classes mères d'en-tête et leurs attributs, suivies de l'API pour modifier le comportement de <a class="reference internal" href="email.headerregistry.html#email.headerregistry.HeaderRegistry" title="email.headerregistry.HeaderRegistry"><code class="xref py py-class docutils literal notranslate"><span class="pre">HeaderRegistry</span></code></a>, et enfin les classes de gestion utilisées pour représenter les données analysées à partir d'en-têtes structurés.</p>
<dl class="py class">
<dt class="sig sig-object py" id="email.headerregistry.BaseHeader">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">email.headerregistry.</span></span><span class="sig-name descname"><span class="pre">BaseHeader</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="email.headerregistry.html#email.headerregistry.BaseHeader" title="Lien vers cette définition">¶</a></dt>
<dd><p><em>name</em> et <em>value</em> sont passés à <code class="docutils literal notranslate"><span class="pre">BaseHeader</span></code> à partir de l'appel <a class="reference internal" href="email.policy.html#email.policy.EmailPolicy.header_factory" title="email.policy.EmailPolicy.header_factory"><code class="xref py py-attr docutils literal notranslate"><span class="pre">header_factory</span></code></a>. La valeur de chaîne de tout objet d'en-tête est la <em>value</em> entièrement décodée en Unicode.</p>
<p>Cette classe mère définit les propriétés en lecture seule suivantes :</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="email.headerregistry.BaseHeader.name">
<span class="sig-name descname"><span class="pre">name</span></span><a class="headerlink" href="email.headerregistry.html#email.headerregistry.BaseHeader.name" title="Lien vers cette définition">¶</a></dt>
<dd><p>Nom de l'en-tête (la partie du champ avant le <code class="docutils literal notranslate"><span class="pre">:</span></code>). C'est exactement la valeur passée dans l'appel <a class="reference internal" href="email.policy.html#email.policy.EmailPolicy.header_factory" title="email.policy.EmailPolicy.header_factory"><code class="xref py py-attr docutils literal notranslate"><span class="pre">header_factory</span></code></a> pour <em>name</em> ; c'est-à-dire que la casse est préservée.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="email.headerregistry.BaseHeader.defects">
<span class="sig-name descname"><span class="pre">defects</span></span><a class="headerlink" href="email.headerregistry.html#email.headerregistry.BaseHeader.defects" title="Lien vers cette définition">¶</a></dt>
<dd><p><em>n</em>-uplet d'instances <a class="reference internal" href="email.errors.html#email.errors.HeaderDefect" title="email.errors.HeaderDefect"><code class="xref py py-exc docutils literal notranslate"><span class="pre">HeaderDefect</span></code></a> signalant tout problème de conformité avec les RFC détecté lors de l'analyse. Le paquet d'e-mails tente d'être complet en ce qui concerne la détection des problèmes de conformité. Voir le module <a class="reference internal" href="email.errors.html#module-email.errors" title="email.errors: The exception classes used by the email package."><code class="xref py py-mod docutils literal notranslate"><span class="pre">errors</span></code></a> pour une discussion sur les types de défauts qui peuvent être signalés.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="email.headerregistry.BaseHeader.max_count">
<span class="sig-name descname"><span class="pre">max_count</span></span><a class="headerlink" href="email.headerregistry.html#email.headerregistry.BaseHeader.max_count" title="Lien vers cette définition">¶</a></dt>
<dd><p>Nombre maximum d'en-têtes de ce type pouvant avoir le même <code class="docutils literal notranslate"><span class="pre">name</span></code>. Une valeur de <code class="docutils literal notranslate"><span class="pre">None</span></code> signifie illimité. La valeur <code class="docutils literal notranslate"><span class="pre">BaseHeader</span></code> pour cet attribut est <code class="docutils literal notranslate"><span class="pre">None</span></code> ; les classes d'en-tête spécialisées sont censées remplacer cette valeur si nécessaire.</p>
</dd></dl>

<p><code class="docutils literal notranslate"><span class="pre">BaseHeader</span></code> fournit également la méthode suivante, qui est appelée par le code de la bibliothèque de messagerie et ne doit généralement pas être appelée par les programmes d'application :</p>
<dl class="py method">
<dt class="sig sig-object py" id="email.headerregistry.BaseHeader.fold">
<span class="sig-name descname"><span class="pre">fold</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">policy</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="email.headerregistry.html#email.headerregistry.BaseHeader.fold" title="Lien vers cette définition">¶</a></dt>
<dd><p>Renvoie une chaîne contenant les caractères <a class="reference internal" href="email.policy.html#email.policy.Policy.linesep" title="email.policy.Policy.linesep"><code class="xref py py-attr docutils literal notranslate"><span class="pre">linesep</span></code></a> nécessaires pour remettre en forme correctement l'en-tête conformément à <em>policy</em>. Un <a class="reference internal" href="email.policy.html#email.policy.Policy.cte_type" title="email.policy.Policy.cte_type"><code class="xref py py-attr docutils literal notranslate"><span class="pre">cte_type</span></code></a> de <code class="docutils literal notranslate"><span class="pre">8bit</span></code> est traité comme s'il s'agissait de <code class="docutils literal notranslate"><span class="pre">7bit</span></code>, car les en-têtes ne peuvent pas contenir de données binaires arbitraires. Si <a class="reference internal" href="email.policy.html#email.policy.EmailPolicy.utf8" title="email.policy.EmailPolicy.utf8"><code class="xref py py-attr docutils literal notranslate"><span class="pre">utf8</span></code></a> est <code class="docutils literal notranslate"><span class="pre">False</span></code>, les données non-ASCII seront encodées selon la <span class="target" id="index-31"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc2047.html"><strong>RFC 2047</strong></a>.</p>
</dd></dl>

<p><code class="docutils literal notranslate"><span class="pre">BaseHeader</span></code> seule ne peut pas être utilisée pour créer un objet d'en-tête. Elle définit un protocole avec lequel chaque en-tête spécialisé coopère afin de produire l'objet d'en-tête. Plus précisément, <code class="docutils literal notranslate"><span class="pre">BaseHeader</span></code> nécessite que la classe spécialisée fournisse une <a class="reference internal" href="functions.html#classmethod" title="classmethod"><code class="xref py py-func docutils literal notranslate"><span class="pre">classmethod()</span></code></a> nommée <code class="docutils literal notranslate"><span class="pre">parse</span></code>. Cette méthode s'appelle comme suit :</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">parse</span><span class="p">(</span><span class="n">string</span><span class="p">,</span> <span class="n">kwds</span><span class="p">)</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">kwds</span></code> est un dictionnaire contenant une clé pré-initialisée : <code class="docutils literal notranslate"><span class="pre">defects</span></code>. <code class="docutils literal notranslate"><span class="pre">defects</span></code> est une liste vide. La méthode d'analyse doit ajouter tous les défauts détectés à cette liste. Au retour, le dictionnaire <code class="docutils literal notranslate"><span class="pre">kwds</span></code> <em>doit</em> contenir des valeurs pour au moins les clés <code class="docutils literal notranslate"><span class="pre">decoded</span></code> et <code class="docutils literal notranslate"><span class="pre">defects</span></code>. <code class="docutils literal notranslate"><span class="pre">decoded</span></code> doit être la valeur de la chaîne pour l'en-tête (c'est-à-dire la valeur de l'en-tête entièrement décodée en Unicode). La méthode d'analyse doit supposer que <em>string</em> peut contenir des parties codées par transfert de contenu, mais doit également gérer correctement tous les caractères Unicode valides afin de pouvoir analyser les valeurs d'en-tête non codées.</p>
<p><code class="docutils literal notranslate"><span class="pre">__new__</span></code> de <code class="docutils literal notranslate"><span class="pre">BaseHeader</span></code> crée ensuite l'instance d'en-tête et appelle sa méthode <code class="docutils literal notranslate"><span class="pre">init</span></code>. La classe spécialisée n'a besoin de fournir une méthode <code class="docutils literal notranslate"><span class="pre">init</span></code> que si elle souhaite définir des attributs supplémentaires au-delà de ceux fournis par <code class="docutils literal notranslate"><span class="pre">BaseHeader</span></code> lui-même. Une telle méthode <code class="docutils literal notranslate"><span class="pre">init</span></code> devrait ressembler à ceci :</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">init</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">/</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kw</span><span class="p">):</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_myattr</span> <span class="o">=</span> <span class="n">kw</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s1">&#39;myattr&#39;</span><span class="p">)</span>
    <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">init</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kw</span><span class="p">)</span>
</pre></div>
</div>
<p>Autrement dit, tout ce que la classe spécialisée ajoute au dictionnaire <code class="docutils literal notranslate"><span class="pre">kwds</span></code> doit être supprimé et géré, et le contenu restant de <code class="docutils literal notranslate"><span class="pre">kw</span></code> (et <code class="docutils literal notranslate"><span class="pre">args</span></code>) est passé à la méthode <code class="docutils literal notranslate"><span class="pre">init</span></code> de  <code class="docutils literal notranslate"><span class="pre">BaseHeader</span></code>.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="email.headerregistry.UnstructuredHeader">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">email.headerregistry.</span></span><span class="sig-name descname"><span class="pre">UnstructuredHeader</span></span><a class="headerlink" href="email.headerregistry.html#email.headerregistry.UnstructuredHeader" title="Lien vers cette définition">¶</a></dt>
<dd><p>Un en-tête « non structuré » est le type d'en-tête par défaut dans la <span class="target" id="index-32"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc5322.html"><strong>RFC 5322</strong></a>. Tout en-tête qui n'a pas de syntaxe spécifiée est traité comme non structuré. L'exemple classique d'en-tête non structuré est l'en-tête <em class="mailheader">Subject</em>.</p>
<p>Dans la <span class="target" id="index-33"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc5322.html"><strong>RFC 5322</strong></a>, un en-tête non structuré est une séquence de texte arbitraire dans le jeu de caractères ASCII. <span class="target" id="index-34"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc2047.html"><strong>RFC 2047</strong></a>, cependant, possède un mécanisme compatible <span class="target" id="index-35"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc5322.html"><strong>RFC 5322</strong></a> pour encoder du texte non-ASCII en tant que caractères ASCII dans une valeur d'en-tête. Lorsqu'une <em>value</em> contenant des mots encodés est passée au constructeur, l'analyseur <code class="docutils literal notranslate"><span class="pre">UnstructuredHeader</span></code> convertit ces mots encodés en Unicode, en suivant les règles de la <span class="target" id="index-36"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc2047.html"><strong>RFC 2047</strong></a> pour le texte non structuré. L'analyseur utilise des heuristiques pour tenter de décoder certains mots codés non conformes. Des défauts sont enregistrés dans de tels cas, ainsi que des défauts pour des problèmes tels que des caractères non valides dans les mots codés ou le texte non codé.</p>
<p>Ce type d'en-tête ne fournit aucun attribut supplémentaire.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="email.headerregistry.DateHeader">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">email.headerregistry.</span></span><span class="sig-name descname"><span class="pre">DateHeader</span></span><a class="headerlink" href="email.headerregistry.html#email.headerregistry.DateHeader" title="Lien vers cette définition">¶</a></dt>
<dd><p>La <span class="target" id="index-37"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc5322.html"><strong>RFC 5322</strong></a> spécifie un format très spécifique pour les dates dans les en-têtes de courrier électronique. L'analyseur <code class="docutils literal notranslate"><span class="pre">DateHeader</span></code> reconnaît ce format de date, ainsi qu'un certain nombre de formes variantes que l'on trouve parfois « dans la nature ».</p>
<p>Ce type d'en-tête fournit les attributs supplémentaires suivants :</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="email.headerregistry.DateHeader.datetime">
<span class="sig-name descname"><span class="pre">datetime</span></span><a class="headerlink" href="email.headerregistry.html#email.headerregistry.DateHeader.datetime" title="Lien vers cette définition">¶</a></dt>
<dd><p>Si la valeur d'en-tête peut être reconnue comme une date valide d'une forme ou d'une autre, cet attribut contient une instance <a class="reference internal" href="datetime.html#datetime.datetime" title="datetime.datetime"><code class="xref py py-class docutils literal notranslate"><span class="pre">datetime</span></code></a> représentant cette date. Si le fuseau horaire de la date d'entrée est spécifié comme <code class="docutils literal notranslate"><span class="pre">-0000</span></code> (indiquant qu'il est en UTC mais ne contient aucune information sur le fuseau horaire source), alors <a class="reference internal" href="email.headerregistry.html#email.headerregistry.DateHeader.datetime" title="email.headerregistry.DateHeader.datetime"><code class="xref py py-attr docutils literal notranslate"><span class="pre">datetime</span></code></a> est une <a class="reference internal" href="datetime.html#datetime.datetime" title="datetime.datetime"><code class="xref py py-class docutils literal notranslate"><span class="pre">datetime</span></code></a> naïve. Si un décalage de fuseau horaire spécifique est trouvé (y compris <code class="docutils literal notranslate"><span class="pre">+0000</span></code>), alors <a class="reference internal" href="email.headerregistry.html#email.headerregistry.DateHeader.datetime" title="email.headerregistry.DateHeader.datetime"><code class="xref py py-attr docutils literal notranslate"><span class="pre">datetime</span></code></a> contient un <code class="docutils literal notranslate"><span class="pre">datetime</span></code> avisé qui utilise <a class="reference internal" href="datetime.html#datetime.timezone" title="datetime.timezone"><code class="xref py py-class docutils literal notranslate"><span class="pre">datetime.timezone</span></code></a> pour enregistrer le décalage lié au fuseau horaire.</p>
</dd></dl>

<p>La valeur <code class="docutils literal notranslate"><span class="pre">decoded</span></code> de l'en-tête est déterminée en formatant le <code class="docutils literal notranslate"><span class="pre">datetime</span></code> selon les règles de la <span class="target" id="index-38"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc5322.html"><strong>RFC 5322</strong></a> ; c'est-à-dire qu'elle est définie sur :</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">email</span><span class="o">.</span><span class="n">utils</span><span class="o">.</span><span class="n">format_datetime</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">datetime</span><span class="p">)</span>
</pre></div>
</div>
<p>Lors de la création d'un <code class="docutils literal notranslate"><span class="pre">DateHeader</span></code>, <em>value</em> peut être une instance de <a class="reference internal" href="datetime.html#datetime.datetime" title="datetime.datetime"><code class="xref py py-class docutils literal notranslate"><span class="pre">datetime</span></code></a>. Cela signifie, par exemple, que le code suivant est valide et fait ce à quoi on pourrait s'attendre :</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">msg</span><span class="p">[</span><span class="s1">&#39;Date&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">datetime</span><span class="p">(</span><span class="mi">2011</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">15</span><span class="p">,</span> <span class="mi">21</span><span class="p">)</span>
</pre></div>
</div>
<p>Comme il s'agit d'un <code class="docutils literal notranslate"><span class="pre">datetime</span></code> naïf, il est interprété comme un horodatage UTC et la valeur résultante a un fuseau horaire de <code class="docutils literal notranslate"><span class="pre">-0000</span></code>. Il est beaucoup plus utile d'utiliser la fonction <a class="reference internal" href="email.utils.html#email.utils.localtime" title="email.utils.localtime"><code class="xref py py-func docutils literal notranslate"><span class="pre">localtime()</span></code></a> du module <a class="reference internal" href="email.utils.html#module-email.utils" title="email.utils: Miscellaneous email package utilities."><code class="xref py py-mod docutils literal notranslate"><span class="pre">utils</span></code></a> :</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">msg</span><span class="p">[</span><span class="s1">&#39;Date&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">utils</span><span class="o">.</span><span class="n">localtime</span><span class="p">()</span>
</pre></div>
</div>
<p>Cet exemple définit l'en-tête de date sur l'heure et la date actuelles à l'aide du décalage horaire actuel.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="email.headerregistry.AddressHeader">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">email.headerregistry.</span></span><span class="sig-name descname"><span class="pre">AddressHeader</span></span><a class="headerlink" href="email.headerregistry.html#email.headerregistry.AddressHeader" title="Lien vers cette définition">¶</a></dt>
<dd><p>Les en-têtes d'adresse sont l'un des types d'en-têtes structurés les plus complexes. La classe <code class="docutils literal notranslate"><span class="pre">AddressHeader</span></code> fournit une interface générique à n'importe quel en-tête d'adresse.</p>
<p>Ce type d'en-tête fournit les attributs supplémentaires suivants :</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="email.headerregistry.AddressHeader.groups">
<span class="sig-name descname"><span class="pre">groups</span></span><a class="headerlink" href="email.headerregistry.html#email.headerregistry.AddressHeader.groups" title="Lien vers cette définition">¶</a></dt>
<dd><p><em>n</em>-uplet d'objets <a class="reference internal" href="email.headerregistry.html#email.headerregistry.Group" title="email.headerregistry.Group"><code class="xref py py-class docutils literal notranslate"><span class="pre">Group</span></code></a> encodant les adresses et les groupes trouvés dans la valeur d'en-tête. Les adresses qui ne font pas partie d'un groupe sont représentées dans cette liste comme des <code class="docutils literal notranslate"><span class="pre">Groups</span></code> à adresse unique dont <a class="reference internal" href="email.headerregistry.html#email.headerregistry.Group.display_name" title="email.headerregistry.Group.display_name"><code class="xref py py-attr docutils literal notranslate"><span class="pre">display_name</span></code></a> est <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="email.headerregistry.AddressHeader.addresses">
<span class="sig-name descname"><span class="pre">addresses</span></span><a class="headerlink" href="email.headerregistry.html#email.headerregistry.AddressHeader.addresses" title="Lien vers cette définition">¶</a></dt>
<dd><p><em>n</em>-uplet d'objets <a class="reference internal" href="email.headerregistry.html#email.headerregistry.Address" title="email.headerregistry.Address"><code class="xref py py-class docutils literal notranslate"><span class="pre">Address</span></code></a> encodant toutes les adresses individuelles à partir de la valeur d'en-tête. Si la valeur d'en-tête contient des groupes, les adresses individuelles du groupe sont incluses dans la liste au point où le groupe apparaît dans la valeur (c'est-à-dire que la liste d'adresses est « aplatie » en une liste unidimensionnelle).</p>
</dd></dl>

<p>La valeur <code class="docutils literal notranslate"><span class="pre">decoded</span></code> de l'en-tête a tous les mots codés décodés en Unicode. Les noms de domaine encodés en <a class="reference internal" href="codecs.html#module-encodings.idna" title="encodings.idna: Internationalized Domain Names implementation"><code class="xref py py-class docutils literal notranslate"><span class="pre">idna</span></code></a> sont également décodés en Unicode. La valeur <code class="docutils literal notranslate"><span class="pre">decoded</span></code> est définie en <a class="reference internal" href="stdtypes.html#meth-str-join"><span class="std std-ref">joignant</span></a> la valeur <a class="reference internal" href="stdtypes.html#str" title="str"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a> des éléments de l'attribut <code class="docutils literal notranslate"><span class="pre">groups</span></code> avec <code class="docutils literal notranslate"><span class="pre">',</span> <span class="pre">'</span></code>.</p>
<p>Une liste d'objets <a class="reference internal" href="email.headerregistry.html#email.headerregistry.Address" title="email.headerregistry.Address"><code class="xref py py-class docutils literal notranslate"><span class="pre">Address</span></code></a> et <a class="reference internal" href="email.headerregistry.html#email.headerregistry.Group" title="email.headerregistry.Group"><code class="xref py py-class docutils literal notranslate"><span class="pre">Group</span></code></a> dans n'importe quelle combinaison peut être utilisée pour définir la valeur d'un en-tête d'adresse. Les objets <code class="docutils literal notranslate"><span class="pre">Group</span></code> dont le <code class="docutils literal notranslate"><span class="pre">display_name</span></code> est <code class="docutils literal notranslate"><span class="pre">None</span></code> sont interprétés comme des adresses uniques, ce qui permet de copier une liste d'adresses avec des groupes intacts en utilisant la liste obtenue à partir de l'attribut <code class="docutils literal notranslate"><span class="pre">groups</span></code> de l'en-tête source.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="email.headerregistry.SingleAddressHeader">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">email.headerregistry.</span></span><span class="sig-name descname"><span class="pre">SingleAddressHeader</span></span><a class="headerlink" href="email.headerregistry.html#email.headerregistry.SingleAddressHeader" title="Lien vers cette définition">¶</a></dt>
<dd><p>Sous-classe de <a class="reference internal" href="email.headerregistry.html#email.headerregistry.AddressHeader" title="email.headerregistry.AddressHeader"><code class="xref py py-class docutils literal notranslate"><span class="pre">AddressHeader</span></code></a> qui ajoute un attribut supplémentaire :</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="email.headerregistry.SingleAddressHeader.address">
<span class="sig-name descname"><span class="pre">address</span></span><a class="headerlink" href="email.headerregistry.html#email.headerregistry.SingleAddressHeader.address" title="Lien vers cette définition">¶</a></dt>
<dd><p>Adresse unique codée par la valeur d'en-tête. Si la valeur d'en-tête contient en fait plus d'une adresse (ce qui serait une violation de la RFC sous la valeur par défaut <a class="reference internal" href="email.policy.html#module-email.policy" title="email.policy: Controlling the parsing and generating of messages"><code class="xref py py-mod docutils literal notranslate"><span class="pre">policy</span></code></a>), l'accès à cet attribut lève une <a class="reference internal" href="exceptions.html#ValueError" title="ValueError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ValueError</span></code></a>.</p>
</dd></dl>

</dd></dl>

<p>La plupart des classes ci-dessus ont également une variante <code class="docutils literal notranslate"><span class="pre">Unique</span></code> (par exemple, <code class="docutils literal notranslate"><span class="pre">UniqueUnstructuredHeader</span></code>). La seule différence est que dans la variante <code class="docutils literal notranslate"><span class="pre">Unique</span></code>, <a class="reference internal" href="email.headerregistry.html#email.headerregistry.BaseHeader.max_count" title="email.headerregistry.BaseHeader.max_count"><code class="xref py py-attr docutils literal notranslate"><span class="pre">max_count</span></code></a> est définie sur 1.</p>
<dl class="py class">
<dt class="sig sig-object py" id="email.headerregistry.MIMEVersionHeader">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">email.headerregistry.</span></span><span class="sig-name descname"><span class="pre">MIMEVersionHeader</span></span><a class="headerlink" href="email.headerregistry.html#email.headerregistry.MIMEVersionHeader" title="Lien vers cette définition">¶</a></dt>
<dd><p>Il n'y a vraiment qu'une seule valeur valide pour l'en-tête <em class="mailheader">MIME-Version</em>, et c'est <code class="docutils literal notranslate"><span class="pre">1.0</span></code>. Au cas où, cette classe d'en-tête prend en charge d'autres numéros de version valides. Si un numéro de version a une valeur valide selon la <span class="target" id="index-39"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc2045.html"><strong>RFC 2045</strong></a>, alors l'objet d'en-tête a des valeurs autres que <code class="docutils literal notranslate"><span class="pre">None</span></code> pour les attributs suivants :</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="email.headerregistry.MIMEVersionHeader.version">
<span class="sig-name descname"><span class="pre">version</span></span><a class="headerlink" href="email.headerregistry.html#email.headerregistry.MIMEVersionHeader.version" title="Lien vers cette définition">¶</a></dt>
<dd><p>Numéro de version sous forme de chaîne, sans espaces ni commentaires.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="email.headerregistry.MIMEVersionHeader.major">
<span class="sig-name descname"><span class="pre">major</span></span><a class="headerlink" href="email.headerregistry.html#email.headerregistry.MIMEVersionHeader.major" title="Lien vers cette définition">¶</a></dt>
<dd><p>Numéro de version majeure sous forme d'entier</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="email.headerregistry.MIMEVersionHeader.minor">
<span class="sig-name descname"><span class="pre">minor</span></span><a class="headerlink" href="email.headerregistry.html#email.headerregistry.MIMEVersionHeader.minor" title="Lien vers cette définition">¶</a></dt>
<dd><p>Numéro de version mineure sous forme d'entier</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="email.headerregistry.ParameterizedMIMEHeader">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">email.headerregistry.</span></span><span class="sig-name descname"><span class="pre">ParameterizedMIMEHeader</span></span><a class="headerlink" href="email.headerregistry.html#email.headerregistry.ParameterizedMIMEHeader" title="Lien vers cette définition">¶</a></dt>
<dd><p>Les en-têtes MIME commencent tous par le préfixe <code class="docutils literal notranslate"><span class="pre">'Content-'</span></code>. Chaque en-tête spécifique a une certaine valeur, décrite par la classe de cet en-tête. Certains peuvent également prendre une liste de paramètres supplémentaires, qui ont un format commun. Cette classe sert de base à tous les en-têtes MIME qui prennent des paramètres.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="email.headerregistry.ParameterizedMIMEHeader.params">
<span class="sig-name descname"><span class="pre">params</span></span><a class="headerlink" href="email.headerregistry.html#email.headerregistry.ParameterizedMIMEHeader.params" title="Lien vers cette définition">¶</a></dt>
<dd><p>Dictionnaire de correspondance entre les noms de paramètres et leurs valeurs.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="email.headerregistry.ContentTypeHeader">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">email.headerregistry.</span></span><span class="sig-name descname"><span class="pre">ContentTypeHeader</span></span><a class="headerlink" href="email.headerregistry.html#email.headerregistry.ContentTypeHeader" title="Lien vers cette définition">¶</a></dt>
<dd><p>Classe <a class="reference internal" href="email.headerregistry.html#email.headerregistry.ParameterizedMIMEHeader" title="email.headerregistry.ParameterizedMIMEHeader"><code class="xref py py-class docutils literal notranslate"><span class="pre">ParameterizedMIMEHeader</span></code></a> qui gère l'en-tête <em class="mailheader">Content-Type</em>.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="email.headerregistry.ContentTypeHeader.content_type">
<span class="sig-name descname"><span class="pre">content_type</span></span><a class="headerlink" href="email.headerregistry.html#email.headerregistry.ContentTypeHeader.content_type" title="Lien vers cette définition">¶</a></dt>
<dd><p>Chaîne de type de contenu, sous la forme <code class="docutils literal notranslate"><span class="pre">maintype/subtype</span></code>.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="email.headerregistry.ContentTypeHeader.maintype">
<span class="sig-name descname"><span class="pre">maintype</span></span><a class="headerlink" href="email.headerregistry.html#email.headerregistry.ContentTypeHeader.maintype" title="Lien vers cette définition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="email.headerregistry.ContentTypeHeader.subtype">
<span class="sig-name descname"><span class="pre">subtype</span></span><a class="headerlink" href="email.headerregistry.html#email.headerregistry.ContentTypeHeader.subtype" title="Lien vers cette définition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="email.headerregistry.ContentDispositionHeader">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">email.headerregistry.</span></span><span class="sig-name descname"><span class="pre">ContentDispositionHeader</span></span><a class="headerlink" href="email.headerregistry.html#email.headerregistry.ContentDispositionHeader" title="Lien vers cette définition">¶</a></dt>
<dd><p>Classe <a class="reference internal" href="email.headerregistry.html#email.headerregistry.ParameterizedMIMEHeader" title="email.headerregistry.ParameterizedMIMEHeader"><code class="xref py py-class docutils literal notranslate"><span class="pre">ParameterizedMIMEHeader</span></code></a> qui gère l'en-tête <em class="mailheader">Content-Disposition</em>.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="email.headerregistry.ContentDispositionHeader.content_disposition">
<span class="sig-name descname"><span class="pre">content_disposition</span></span><a class="headerlink" href="email.headerregistry.html#email.headerregistry.ContentDispositionHeader.content_disposition" title="Lien vers cette définition">¶</a></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">inline</span></code> et <code class="docutils literal notranslate"><span class="pre">attachment</span></code> sont les seules valeurs valides couramment utilisées.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="email.headerregistry.ContentTransferEncoding">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">email.headerregistry.</span></span><span class="sig-name descname"><span class="pre">ContentTransferEncoding</span></span><a class="headerlink" href="email.headerregistry.html#email.headerregistry.ContentTransferEncoding" title="Lien vers cette définition">¶</a></dt>
<dd><p>Gère l'en-tête <em class="mailheader">Content-Transfer-Encoding</em>.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="email.headerregistry.ContentTransferEncoding.cte">
<span class="sig-name descname"><span class="pre">cte</span></span><a class="headerlink" href="email.headerregistry.html#email.headerregistry.ContentTransferEncoding.cte" title="Lien vers cette définition">¶</a></dt>
<dd><p>Les valeurs valides sont <code class="docutils literal notranslate"><span class="pre">7bit</span></code>, <code class="docutils literal notranslate"><span class="pre">8bit</span></code>, <code class="docutils literal notranslate"><span class="pre">base64</span></code> et <code class="docutils literal notranslate"><span class="pre">quoted-printable</span></code>. Voir la <span class="target" id="index-40"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc2045.html"><strong>RFC 2045</strong></a> pour plus d'informations.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="email.headerregistry.HeaderRegistry">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">email.headerregistry.</span></span><span class="sig-name descname"><span class="pre">HeaderRegistry</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">base_class</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">BaseHeader</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default_class</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">UnstructuredHeader</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_default_map</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="email.headerregistry.html#email.headerregistry.HeaderRegistry" title="Lien vers cette définition">¶</a></dt>
<dd><p>C'est la fabrique utilisée par <a class="reference internal" href="email.policy.html#email.policy.EmailPolicy" title="email.policy.EmailPolicy"><code class="xref py py-class docutils literal notranslate"><span class="pre">EmailPolicy</span></code></a> par défaut. <code class="docutils literal notranslate"><span class="pre">HeaderRegistry</span></code> construit la classe utilisée pour créer dynamiquement une instance d'en-tête, en utilisant <em>base_class</em> et une classe spécialisée récupérée à partir d'un registre qu'il contient. Lorsqu'un nom d'en-tête donné n'apparaît pas dans le registre, la classe spécifiée par <em>default_class</em> est utilisée comme classe spécialisée. Lorsque <em>use_default_map</em> est <code class="docutils literal notranslate"><span class="pre">True</span></code> (valeur par défaut), la correspondance standard des noms d'en-tête aux classes est copiée dans le registre lors de l'initialisation. <em>base_class</em> est toujours la dernière classe dans la liste <code class="docutils literal notranslate"><span class="pre">__bases__</span></code> de la classe générée.</p>
<p>Les correspondances par défaut sont :</p>
<blockquote>
<div><dl class="field-list simple">
<dt class="field-odd">subject<span class="colon">:</span></dt>
<dd class="field-odd"><p>UniqueUnstructuredHeader</p>
</dd>
<dt class="field-even">date<span class="colon">:</span></dt>
<dd class="field-even"><p>UniqueDateHeader</p>
</dd>
<dt class="field-odd">resent-date<span class="colon">:</span></dt>
<dd class="field-odd"><p>DateHeader</p>
</dd>
<dt class="field-even">orig-date<span class="colon">:</span></dt>
<dd class="field-even"><p>UniqueDateHeader</p>
</dd>
<dt class="field-odd">sender<span class="colon">:</span></dt>
<dd class="field-odd"><p>UniqueSingleAddressHeader</p>
</dd>
<dt class="field-even">resent-sender<span class="colon">:</span></dt>
<dd class="field-even"><p>SingleAddressHeader</p>
</dd>
<dt class="field-odd">to<span class="colon">:</span></dt>
<dd class="field-odd"><p>UniqueAddressHeader</p>
</dd>
<dt class="field-even">resent-to<span class="colon">:</span></dt>
<dd class="field-even"><p>AddressHeader</p>
</dd>
<dt class="field-odd">cc<span class="colon">:</span></dt>
<dd class="field-odd"><p>UniqueAddressHeader</p>
</dd>
<dt class="field-even">resent-cc<span class="colon">:</span></dt>
<dd class="field-even"><p>AddressHeader</p>
</dd>
<dt class="field-odd">bcc<span class="colon">:</span></dt>
<dd class="field-odd"><p>UniqueAddressHeader</p>
</dd>
<dt class="field-even">resent-bcc<span class="colon">:</span></dt>
<dd class="field-even"><p>AddressHeader</p>
</dd>
<dt class="field-odd">from<span class="colon">:</span></dt>
<dd class="field-odd"><p>UniqueAddressHeader</p>
</dd>
<dt class="field-even">resent-from<span class="colon">:</span></dt>
<dd class="field-even"><p>AddressHeader</p>
</dd>
<dt class="field-odd">reply-to<span class="colon">:</span></dt>
<dd class="field-odd"><p>UniqueAddressHeader</p>
</dd>
<dt class="field-even">mime-version<span class="colon">:</span></dt>
<dd class="field-even"><p>MIMEVersionHeader</p>
</dd>
<dt class="field-odd">content-type<span class="colon">:</span></dt>
<dd class="field-odd"><p>ContentTypeHeader</p>
</dd>
<dt class="field-even">content-disposition<span class="colon">:</span></dt>
<dd class="field-even"><p>ContentDispositionHeader</p>
</dd>
<dt class="field-odd">content-transfer-encoding<span class="colon">:</span></dt>
<dd class="field-odd"><p>ContentTransferEncodingHeader</p>
</dd>
<dt class="field-even">message-id<span class="colon">:</span></dt>
<dd class="field-even"><p>MessageIDHeader</p>
</dd>
</dl>
</div></blockquote>
<p><code class="docutils literal notranslate"><span class="pre">HeaderRegistry</span></code> a les méthodes suivantes :</p>
<dl class="py method">
<dt class="sig sig-object py" id="email.headerregistry.HeaderRegistry.map_to_type">
<span class="sig-name descname"><span class="pre">map_to_type</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cls</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="email.headerregistry.html#email.headerregistry.HeaderRegistry.map_to_type" title="Lien vers cette définition">¶</a></dt>
<dd><p><em>name</em> est le nom de l'en-tête à faire correspondre. Il est converti en minuscules dans le registre. <em>cls</em> est la classe spécialisée à utiliser, avec <em>base_class</em>, pour créer la classe utilisée pour instancier les en-têtes qui correspondent à <em>name</em>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="email.headerregistry.HeaderRegistry.__getitem__">
<span class="sig-name descname"><span class="pre">__getitem__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="email.headerregistry.html#email.headerregistry.HeaderRegistry.__getitem__" title="Lien vers cette définition">¶</a></dt>
<dd><p>Construit et renvoie une classe pour gérer la création d'un en-tête <em>name</em>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="email.headerregistry.HeaderRegistry.__call__">
<span class="sig-name descname"><span class="pre">__call__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="email.headerregistry.html#email.headerregistry.HeaderRegistry.__call__" title="Lien vers cette définition">¶</a></dt>
<dd><p>Récupère l'en-tête spécialisé associé à <em>name</em> du registre (en utilisant <em>default_class</em> si <em>name</em> n'apparaît pas dans le registre) et le compose avec <em>base_class</em> pour produire une classe, appelle le constructeur de la classe construite, en lui passant la même liste d'arguments, et renvoie enfin l'instance de classe ainsi créée.</p>
</dd></dl>

</dd></dl>

<p>Les classes suivantes sont les classes utilisées pour représenter les données analysées à partir d'en-têtes structurés et peuvent, en général, être utilisées par un programme d'application pour construire des valeurs structurées à affecter à des en-têtes spécifiques.</p>
<dl class="py class">
<dt class="sig sig-object py" id="email.headerregistry.Address">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">email.headerregistry.</span></span><span class="sig-name descname"><span class="pre">Address</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">display_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">username</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">domain</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">addr_spec</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="email.headerregistry.html#email.headerregistry.Address" title="Lien vers cette définition">¶</a></dt>
<dd><p>Classe utilisée pour représenter une adresse e-mail. La forme générale d'une adresse est :</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">display_name</span><span class="p">]</span> <span class="o">&lt;</span><span class="n">username</span><span class="nd">@domain</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>ou :</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">username</span><span class="nd">@domain</span>
</pre></div>
</div>
<p>où chaque partie doit se conformer à des règles de syntaxe spécifiques énoncées dans la <span class="target" id="index-41"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc5322.html"><strong>RFC 5322</strong></a>.</p>
<p>Pour plus de commodité, <em>addr_spec</em> peut être spécifié à la place de <em>username</em> et <em>domain</em>, <em>username</em> et <em>domain</em> sont alors analysés à partir de <em>addr_spec</em>. Une <em>addr_spec</em> doit être une chaîne correctement entre guillemets RFC ; si ce n'est pas le cas, <code class="docutils literal notranslate"><span class="pre">Address</span></code> lève une erreur. Les caractères Unicode sont autorisés et sont encodés proprement lors de la sérialisation. Cependant, selon les RFC, l’Unicode n'est <em>pas</em> autorisé dans la partie nom d'utilisateur de l'adresse.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="email.headerregistry.Address.display_name">
<span class="sig-name descname"><span class="pre">display_name</span></span><a class="headerlink" href="email.headerregistry.html#email.headerregistry.Address.display_name" title="Lien vers cette définition">¶</a></dt>
<dd><p>Partie du nom d'affichage de l'adresse, le cas échéant, avec toutes les citations supprimées. Si l'adresse n'a pas de nom d'affichage, cet attribut est une chaîne vide.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="email.headerregistry.Address.username">
<span class="sig-name descname"><span class="pre">username</span></span><a class="headerlink" href="email.headerregistry.html#email.headerregistry.Address.username" title="Lien vers cette définition">¶</a></dt>
<dd><p>Partie <code class="docutils literal notranslate"><span class="pre">username</span></code> de l'adresse, sans guillemets.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="email.headerregistry.Address.domain">
<span class="sig-name descname"><span class="pre">domain</span></span><a class="headerlink" href="email.headerregistry.html#email.headerregistry.Address.domain" title="Lien vers cette définition">¶</a></dt>
<dd><p>Partie <code class="docutils literal notranslate"><span class="pre">domain</span></code> de l'adresse.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="email.headerregistry.Address.addr_spec">
<span class="sig-name descname"><span class="pre">addr_spec</span></span><a class="headerlink" href="email.headerregistry.html#email.headerregistry.Address.addr_spec" title="Lien vers cette définition">¶</a></dt>
<dd><p>Partie <code class="docutils literal notranslate"><span class="pre">username&#64;domain</span></code> de l'adresse, correctement citée pour une utilisation en tant qu'adresse nue (la deuxième forme illustrée ci-dessus). Cet attribut n'est pas modifiable.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="email.headerregistry.Address.__str__">
<span class="sig-name descname"><span class="pre">__str__</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="email.headerregistry.html#email.headerregistry.Address.__str__" title="Lien vers cette définition">¶</a></dt>
<dd><p>La valeur <code class="docutils literal notranslate"><span class="pre">str</span></code> de l'objet est l'adresse entre guillemets selon les règles de la <span class="target" id="index-42"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc5322.html"><strong>RFC 5322</strong></a>, mais sans encodage de contenu pour les caractères non-ASCII.</p>
</dd></dl>

<p>Pour prendre en charge SMTP (<span class="target" id="index-43"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc5321.html"><strong>RFC 5321</strong></a>), <code class="docutils literal notranslate"><span class="pre">Address</span></code> gère un cas particulier : si <code class="docutils literal notranslate"><span class="pre">username</span></code> et <code class="docutils literal notranslate"><span class="pre">domain</span></code> sont tous deux la chaîne vide (ou <code class="docutils literal notranslate"><span class="pre">None</span></code>), alors la valeur de chaîne de <code class="docutils literal notranslate"><span class="pre">Address</span></code> est <code class="docutils literal notranslate"><span class="pre">&lt;&gt;</span></code>.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="email.headerregistry.Group">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">email.headerregistry.</span></span><span class="sig-name descname"><span class="pre">Group</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">display_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">addresses</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="email.headerregistry.html#email.headerregistry.Group" title="Lien vers cette définition">¶</a></dt>
<dd><p>Classe utilisée pour représenter un groupe d'adresses. La forme générale d'un groupe d'adresses est :</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">display_name</span><span class="p">:</span> <span class="p">[</span><span class="n">address</span><span class="o">-</span><span class="nb">list</span><span class="p">];</span>
</pre></div>
</div>
<p>Pour faciliter le traitement des listes d'adresses composées d'un mélange de groupes et d'adresses uniques, un <code class="docutils literal notranslate"><span class="pre">Group</span></code> peut également être utilisé pour représenter des adresses uniques qui ne font pas partie d'un groupe en définissant <em>display_name</em> sur <code class="docutils literal notranslate"><span class="pre">None</span></code> et en fournissant une liste de l'adresse unique sous la forme <em>adresses</em>.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="email.headerregistry.Group.display_name">
<span class="sig-name descname"><span class="pre">display_name</span></span><a class="headerlink" href="email.headerregistry.html#email.headerregistry.Group.display_name" title="Lien vers cette définition">¶</a></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">display_name</span></code> du groupe. Si c'est <code class="docutils literal notranslate"><span class="pre">None</span></code> et qu'il y a exactement une <code class="docutils literal notranslate"><span class="pre">Adress</span></code> dans <code class="docutils literal notranslate"><span class="pre">adresses</span></code>, alors le <code class="docutils literal notranslate"><span class="pre">Group</span></code> représente une seule adresse qui n'est pas dans un groupe.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="email.headerregistry.Group.addresses">
<span class="sig-name descname"><span class="pre">addresses</span></span><a class="headerlink" href="email.headerregistry.html#email.headerregistry.Group.addresses" title="Lien vers cette définition">¶</a></dt>
<dd><p><em>n</em>-uplet éventuellement vide d'objets <a class="reference internal" href="email.headerregistry.html#email.headerregistry.Address" title="email.headerregistry.Address"><code class="xref py py-class docutils literal notranslate"><span class="pre">Address</span></code></a> représentant les adresses du groupe.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="email.headerregistry.Group.__str__">
<span class="sig-name descname"><span class="pre">__str__</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="email.headerregistry.html#email.headerregistry.Group.__str__" title="Lien vers cette définition">¶</a></dt>
<dd><p>La valeur <code class="docutils literal notranslate"><span class="pre">str</span></code> d'un <code class="docutils literal notranslate"><span class="pre">Group</span></code> est formatée selon la <span class="target" id="index-44"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc5322.html"><strong>RFC 5322</strong></a>, mais sans encodage de contenu pour les caractères non-ASCII. Si <code class="docutils literal notranslate"><span class="pre">display_name</span></code> est <code class="docutils literal notranslate"><span class="pre">None</span></code> et qu'il y a une seule <code class="docutils literal notranslate"><span class="pre">Address</span></code> dans la liste <code class="docutils literal notranslate"><span class="pre">addresses</span></code>, la valeur <code class="docutils literal notranslate"><span class="pre">str</span></code> est la même que la <code class="docutils literal notranslate"><span class="pre">str</span></code> de cette seule <code class="docutils literal notranslate"><span class="pre">Adress</span></code>.</p>
</dd></dl>

</dd></dl>

<p class="rubric">Notes</p>
<aside class="footnote-list brackets">
<aside class="footnote brackets" id="id2" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="email.headerregistry.html#id1">1</a><span class="fn-bracket">]</span></span>
<p>Ajouté à l'origine dans 3.3 en tant que <a class="reference internal" href="../glossary.html#term-provisional-package"><span class="xref std std-term">paquet provisoire</span></a></p>
</aside>
</aside>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <div>
    <h4>Sujet précédent</h4>
    <p class="topless"><a href="email.errors.html"
                          title="Chapitre précédent"><code class="xref py py-mod docutils literal notranslate"><span class="pre">email.errors</span></code>: Exception and Defect classes</a></p>
  </div>
  <div>
    <h4>Sujet suivant</h4>
    <p class="topless"><a href="email.contentmanager.html"
                          title="Chapitre suivant"><code class="xref py py-mod docutils literal notranslate"><span class="pre">email.contentmanager</span></code>: Managing MIME Content</a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>Cette page</h3>
    <ul class="this-page-menu">
      <li><a href="../bugs.html">Signalement de bogue</a></li>
      <li>
        <a href="https://github.com/python/cpython/blob/main/Doc/library/email.headerregistry.rst"
            rel="nofollow">Voir la source
        </a>
      </li>
    </ul>
  </div>
        </div>
<div id="sidebarbutton" title="Réduire la barre latérale">
<span>«</span>
</div>

      </div>
      <div class="clearer"></div>
    </div>  
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="Index général"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Index des modules Python"
             >modules</a> |</li>
        <li class="right" >
          <a href="email.contentmanager.html" title="email.contentmanager: Managing MIME Content"
             >suivant</a> |</li>
        <li class="right" >
          <a href="email.errors.html" title="email.errors: Exception and Defect classes"
             >précédent</a> |</li>

          <li><img src="../_static/py.svg" alt="Python logo" style="vertical-align: middle; margin-top: -1px"/></li>
          <li><a href="https://www.python.org/">Python</a> &#187;</li>
          <li class="switchers">
            <div class="language_switcher_placeholder"></div>
            <div class="version_switcher_placeholder"></div>
          </li>
          <li>
              
          </li>
    <li id="cpython-language-and-version">
      <a href="../index.html">3.12.4 Documentation</a> &#187;
    </li>

          <li class="nav-item nav-item-1"><a href="index.html" >La bibliothèque standard</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="netdata.html" >Traitement des données provenant d'Internet</a> &#187;</li>
          <li class="nav-item nav-item-3"><a href="email.html" ><code class="xref py py-mod docutils literal notranslate"><span class="pre">email</span></code> --- An email and MIME handling package</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="email.headerregistry.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">email.headerregistry</span></code>: Custom Header Objects</a></li>
                <li class="right">
                    

    <div class="inline-search" role="search">
        <form class="inline-search" action="../search.html" method="get">
          <input placeholder="Recherche rapide" aria-label="Recherche rapide" type="search" name="q" id="search-box" />
          <input type="submit" value="Go" />
        </form>
    </div>
                     |
                </li>
            <li class="right">
<label class="theme-selector-label">
    Theme
    <select class="theme-selector" oninput="activateTheme(this.value)">
        <option value="auto" selected>Auto</option>
        <option value="light">Light</option>
        <option value="dark">Dark</option>
    </select>
</label> |</li>
            
      </ul>
    </div>  
    <div class="footer">
    &copy; 
      <a href="../copyright.html">
    
    Copyright
    
      </a>
     2001-2024, Python Software Foundation.
    <br />
    This page is licensed under the Python Software Foundation License Version 2.
    <br />
    Examples, recipes, and other code in the documentation are additionally licensed under the Zero Clause BSD License.
    <br />
    
      See <a href="../../../license.html">History and License</a> for more information.<br />
    
    
    <br />

    The Python Software Foundation is a non-profit corporation.
<a href="https://www.python.org/psf/donations/">Please donate.</a>
<br />
    <br />
      Mis à jour le Jun 09, 2024 (22:21 UTC).
    
      <a href="../../../bugs.html">Found a bug</a>?
    
    <br />

    Créé en utilisant <a href="https://www.sphinx-doc.org/">Sphinx</a> 7.3.7.
    </div>

    <script type="text/javascript" src="../_static/switchers.js"></script>
  </body>
</html>