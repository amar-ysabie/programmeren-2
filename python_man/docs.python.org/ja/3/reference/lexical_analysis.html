<!DOCTYPE html>

<html lang="ja" data-content_root="../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />
<meta property="og:title" content="2. 字句解析" />
<meta property="og:type" content="website" />
<meta property="og:url" content="https://docs.python.org/3/reference/lexical_analysis.html" />
<meta property="og:site_name" content="Python documentation" />
<meta property="og:description" content="Python で書かれたプログラムは パーザ (parser) に読み込まれます。パーザへの入力は、 字句解析器 (lexical analyzer) によって生成された一連の トークン (token) からなります。この章では、字句解析器がファイルをトークン列に分解する方法について解説します。 Python はプログラムテキストを Unicode コードポイントとして読み込みます。ソースフ..." />
<meta property="og:image" content="https://docs.python.org/3/_static/og-image.png" />
<meta property="og:image:alt" content="Python documentation" />
<meta name="description" content="Python で書かれたプログラムは パーザ (parser) に読み込まれます。パーザへの入力は、 字句解析器 (lexical analyzer) によって生成された一連の トークン (token) からなります。この章では、字句解析器がファイルをトークン列に分解する方法について解説します。 Python はプログラムテキストを Unicode コードポイントとして読み込みます。ソースフ..." />
<meta property="og:image:width" content="200" />
<meta property="og:image:height" content="200" />
<meta name="theme-color" content="#3776ab" />

    <title>2. 字句解析 &#8212; Python 3.12.4 ドキュメント</title><meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css%3Fv=80d5e7a1.css" />
    <link rel="stylesheet" type="text/css" href="../_static/pydoctheme.css%3Fv=bb723527.css" />
    <link id="pygments_dark_css" media="(prefers-color-scheme: dark)" rel="stylesheet" type="text/css" href="../_static/pygments_dark.css%3Fv=b20cc3f5.css" />
    
    <script src="../_static/documentation_options.js%3Fv=7e11ab17"></script>
    <script src="../_static/doctools.js%3Fv=9a2dae69"></script>
    <script src="../_static/sphinx_highlight.js%3Fv=dc90522c"></script>
    <script src="../_static/translations.js%3Fv=4dbe4bdc"></script>
    
    <script src="../_static/sidebar.js"></script>
    
    <link rel="search" type="application/opensearchdescription+xml"
          title="Python 3.12.4 ドキュメント 内を検索"
          href="../_static/opensearch.xml"/>
    <link rel="author" title="このドキュメントについて" href="../about.html" />
    <link rel="index" title="索引" href="../genindex.html" />
    <link rel="search" title="検索" href="../search.html" />
    <link rel="copyright" title="Copyright" href="../copyright.html" />
    <link rel="next" title="3. データモデル" href="datamodel.html" />
    <link rel="prev" title="1. はじめに" href="introduction.html" />
    
      <script defer data-domain="docs.python.org" src="https://plausible.io/js/script.js"></script>
    
    <link rel="canonical" href="../../../3/reference/lexical_analysis.html" />
    
      
    

    
    <style>
      @media only screen {
        table.full-width-table {
            width: 100%;
        }
      }
    </style>
<link rel="stylesheet" href="../_static/pydoctheme_dark.css" media="(prefers-color-scheme: dark)" id="pydoctheme_dark_css">
    <link rel="shortcut icon" type="image/png" href="../_static/py.svg" />
            <script type="text/javascript" src="../_static/copybutton.js"></script>
            <script type="text/javascript" src="../_static/menu.js"></script>
            <script type="text/javascript" src="../_static/search-focus.js"></script>
            <script type="text/javascript" src="../_static/themetoggle.js"></script> 
<meta name="readthedocs-addons-api-version" content="1">
<script type="text/javascript">
 function onSwitch(event) {
     const option = event.target.selectedIndex;
     const item = event.target.options[option];
     window.location.href = item.dataset.url;
 }

 document.addEventListener("readthedocs-addons-data-ready", function(event) {
   const config = event.detail.data()

   // Add some mocked hardcoded versions pointing to the official
   // documentation while migrating to Read the Docs.
   // These are only for testing purposes.
   // TODO: remove them when managing all the versions on Read the Docs,
   // since all the "active, built and not hidden" versions will be shown automatically.
   let versions = config.versions.active.concat([
       {
           slug: "dev (3.13)",
           urls: {
               documentation: "https://docs.python.org/3.13/",
           }
       },
       {
           slug: "3.12",
           urls: {
               documentation: "https://docs.python.org/3.12/",
           }
       },
       {
           slug: "3.11",
           urls: {
               documentation: "https://docs.python.org/3.11/",
           }
       },
   ]);

   const versionSelect = `
   <select id="version_select">
   ${ versions.map(
       (version) => `
       <option
           value="${ version.slug }"
           ${ config.versions.current.slug === version.slug ? 'selected="selected"' : '' }
           data-url="${ version.urls.documentation }">
           ${ version.slug }
       </option>`
   ).join("\n") }
   </select>
   `;

   // Prepend the current language to the options on the selector
   let languages = config.projects.translations.concat(config.projects.current);
   languages = languages.sort((a, b) => a.language.name.localeCompare(b.language.name));

   const languageSelect = `
   <select id="language_select">
   ${ languages.map(
       (translation) => `
       <option
           value="${ translation.slug }"
           ${ config.projects.current.slug === translation.slug ? 'selected="selected"' : '' }
           data-url="${ translation.urls.documentation }">
           ${ translation.language.name }
       </option>`
   ).join("\n") }
   </select>
   `;

   // Query all the placeholders because there are different ones for Desktop/Mobile
   const versionPlaceholders = document.querySelectorAll(".version_switcher_placeholder");
   for (placeholder of versionPlaceholders) {
       placeholder.innerHTML = versionSelect;
       let selectElement = placeholder.querySelector("select");
       selectElement.addEventListener("change", onSwitch);
   }

   const languagePlaceholders = document.querySelectorAll(".language_switcher_placeholder");
   for (placeholder of languagePlaceholders) {
       placeholder.innerHTML = languageSelect;
       let selectElement = placeholder.querySelector("select");
       selectElement.addEventListener("change", onSwitch);
   }
 });
</script>

  </head>
<body>
<div class="mobile-nav">
    <input type="checkbox" id="menuToggler" class="toggler__input" aria-controls="navigation"
           aria-pressed="false" aria-expanded="false" role="button" aria-label="Menu" />
    <nav class="nav-content" role="navigation">
        <label for="menuToggler" class="toggler__label">
            <span></span>
        </label>
        <span class="nav-items-wrapper">
            <a href="https://www.python.org/" class="nav-logo">
                <img src="../_static/py.svg" alt="Python logo"/>
            </a>
            <span class="version_switcher_placeholder"></span>
            <form role="search" class="search" action="../search.html" method="get">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" class="search-icon">
                    <path fill-rule="nonzero" fill="currentColor" d="M15.5 14h-.79l-.28-.27a6.5 6.5 0 001.48-5.34c-.47-2.78-2.79-5-5.59-5.34a6.505 6.505 0 00-7.27 7.27c.34 2.8 2.56 5.12 5.34 5.59a6.5 6.5 0 005.34-1.48l.27.28v.79l4.25 4.25c.41.41 1.08.41 1.49 0 .41-.41.41-1.08 0-1.49L15.5 14zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"></path>
                </svg>
                <input placeholder="クイック検索" aria-label="クイック検索" type="search" name="q" />
                <input type="submit" value="検索"/>
            </form>
        </span>
    </nav>
    <div class="menu-wrapper">
        <nav class="menu" role="navigation" aria-label="main navigation">
            <div class="language_switcher_placeholder"></div>
            
<label class="theme-selector-label">
    Theme
    <select class="theme-selector" oninput="activateTheme(this.value)">
        <option value="auto" selected>Auto</option>
        <option value="light">Light</option>
        <option value="dark">Dark</option>
    </select>
</label>
  <div>
    <h3><a href="../contents.html">目次</a></h3>
    <ul>
<li><a class="reference internal" href="lexical_analysis.html#">2. 字句解析</a><ul>
<li><a class="reference internal" href="lexical_analysis.html#line-structure">2.1. 行構造</a><ul>
<li><a class="reference internal" href="lexical_analysis.html#logical-lines">2.1.1. 論理行 (logical line)</a></li>
<li><a class="reference internal" href="lexical_analysis.html#physical-lines">2.1.2. 物理行 (physical line)</a></li>
<li><a class="reference internal" href="lexical_analysis.html#comments">2.1.3. コメント (Comments)</a></li>
<li><a class="reference internal" href="lexical_analysis.html#encoding-declarations">2.1.4. エンコード宣言 (encoding declaration)</a></li>
<li><a class="reference internal" href="lexical_analysis.html#explicit-line-joining">2.1.5. 明示的な行継続</a></li>
<li><a class="reference internal" href="lexical_analysis.html#implicit-line-joining">2.1.6. 非明示的な行継続</a></li>
<li><a class="reference internal" href="lexical_analysis.html#blank-lines">2.1.7. 空行</a></li>
<li><a class="reference internal" href="lexical_analysis.html#indentation">2.1.8. インデント</a></li>
<li><a class="reference internal" href="lexical_analysis.html#whitespace-between-tokens">2.1.9. トークン間の空白</a></li>
</ul>
</li>
<li><a class="reference internal" href="lexical_analysis.html#other-tokens">2.2. その他のトークン</a></li>
<li><a class="reference internal" href="lexical_analysis.html#identifiers">2.3. 識別子 (identifier) およびキーワード (keyword)</a><ul>
<li><a class="reference internal" href="lexical_analysis.html#keywords">2.3.1. キーワード (keyword)</a></li>
<li><a class="reference internal" href="lexical_analysis.html#soft-keywords">2.3.2. ソフトキーワード</a></li>
<li><a class="reference internal" href="lexical_analysis.html#reserved-classes-of-identifiers">2.3.3. 予約済みの識別子種 (reserved classes of identifiers)</a></li>
</ul>
</li>
<li><a class="reference internal" href="lexical_analysis.html#literals">2.4. リテラル</a><ul>
<li><a class="reference internal" href="lexical_analysis.html#string-and-bytes-literals">2.4.1. 文字列およびバイト列リテラル</a><ul>
<li><a class="reference internal" href="lexical_analysis.html#escape-sequences">2.4.1.1. Escape sequences</a></li>
</ul>
</li>
<li><a class="reference internal" href="lexical_analysis.html#string-literal-concatenation">2.4.2. 文字列リテラルの結合 (concatenation)</a></li>
<li><a class="reference internal" href="lexical_analysis.html#formatted-string-literals">2.4.3. f-strings</a></li>
<li><a class="reference internal" href="lexical_analysis.html#numeric-literals">2.4.4. 数値リテラル</a></li>
<li><a class="reference internal" href="lexical_analysis.html#integer-literals">2.4.5. 整数リテラル</a></li>
<li><a class="reference internal" href="lexical_analysis.html#floating-point-literals">2.4.6. 浮動小数点数リテラル</a></li>
<li><a class="reference internal" href="lexical_analysis.html#imaginary-literals">2.4.7. 虚数 (imaginary) リテラル</a></li>
</ul>
</li>
<li><a class="reference internal" href="lexical_analysis.html#operators">2.5. 演算子</a></li>
<li><a class="reference internal" href="lexical_analysis.html#delimiters">2.6. デリミタ (delimiter)</a></li>
</ul>
</li>
</ul>

  </div>
  <div>
    <h4>前のトピックへ</h4>
    <p class="topless"><a href="introduction.html"
                          title="前の章へ"><span class="section-number">1. </span>はじめに</a></p>
  </div>
  <div>
    <h4>次のトピックへ</h4>
    <p class="topless"><a href="datamodel.html"
                          title="次の章へ"><span class="section-number">3. </span>データモデル</a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>このページ</h3>
    <ul class="this-page-menu">
      <li><a href="../bugs.html">バグ報告</a></li>
      <li>
        <a href="https://github.com/python/cpython/blob/main/Doc/reference/lexical_analysis.rst"
            rel="nofollow">ソースの表示
        </a>
      </li>
    </ul>
  </div>
        </nav>
    </div>
</div>

  
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>ナビゲーション</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="総合索引"
             accesskey="I">索引</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Pythonモジュール索引"
             >モジュール</a> |</li>
        <li class="right" >
          <a href="datamodel.html" title="3. データモデル"
             accesskey="N">次へ</a> |</li>
        <li class="right" >
          <a href="introduction.html" title="1. はじめに"
             accesskey="P">前へ</a> |</li>

          <li><img src="../_static/py.svg" alt="Python logo" style="vertical-align: middle; margin-top: -1px"/></li>
          <li><a href="https://www.python.org/">Python</a> &#187;</li>
          <li class="switchers">
            <div class="language_switcher_placeholder"></div>
            <div class="version_switcher_placeholder"></div>
          </li>
          <li>
              
          </li>
    <li id="cpython-language-and-version">
      <a href="../index.html">3.12.4 Documentation</a> &#187;
    </li>

          <li class="nav-item nav-item-1"><a href="index.html" accesskey="U">Python 言語リファレンス</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="lexical_analysis.html"><span class="section-number">2. </span>字句解析</a></li>
                <li class="right">
                    

    <div class="inline-search" role="search">
        <form class="inline-search" action="../search.html" method="get">
          <input placeholder="クイック検索" aria-label="クイック検索" type="search" name="q" id="search-box" />
          <input type="submit" value="検索" />
        </form>
    </div>
                     |
                </li>
            <li class="right">
<label class="theme-selector-label">
    Theme
    <select class="theme-selector" oninput="activateTheme(this.value)">
        <option value="auto" selected>Auto</option>
        <option value="light">Light</option>
        <option value="dark">Dark</option>
    </select>
</label> |</li>
            
      </ul>
    </div>    

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="lexical-analysis">
<span id="lexical"></span><h1><span class="section-number">2. </span>字句解析<a class="headerlink" href="lexical_analysis.html#lexical-analysis" title="Link to this heading">¶</a></h1>
<p id="index-0">Python で書かれたプログラムは <em>パーザ (parser)</em> に読み込まれます。パーザへの入力は、 <em>字句解析器 (lexical analyzer)</em> によって生成された一連の <em>トークン (token)</em> からなります。この章では、字句解析器がファイルをトークン列に分解する方法について解説します。</p>
<p>Python はプログラムテキストを Unicode コードポイントとして読み込みます。ソースファイルのエンコーディングはエンコーディング宣言で与えられ、デフォルトは UTF-8  です。詳細は <span class="target" id="index-38"></span><a class="pep reference external" href="https://peps.python.org/pep-3120/"><strong>PEP 3120</strong></a> を参照してください。ソースファイルがデコードできなければ、 <a class="reference internal" href="../library/exceptions.html#SyntaxError" title="SyntaxError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">SyntaxError</span></code></a> が送出されます。</p>
<section id="line-structure">
<span id="id1"></span><h2><span class="section-number">2.1. </span>行構造<a class="headerlink" href="lexical_analysis.html#line-structure" title="Link to this heading">¶</a></h2>
<p id="index-2">Python プログラムは多数の <em>論理行 (logical lines)</em> に分割されます。</p>
<section id="logical-lines">
<span id="id2"></span><h3><span class="section-number">2.1.1. </span>論理行 (logical line)<a class="headerlink" href="lexical_analysis.html#logical-lines" title="Link to this heading">¶</a></h3>
<p id="index-3">論理行の終端は、トークン NEWLINE で表されます。構文上許されている場合 (複合文: compound statement 中の実行文: statement) を除いて、実行文は論理行間にまたがることはできません。論理行は一行またはそれ以上の <em>物理行(physical line)</em> からなり、物理行の末尾には明示的または非明示的な <em>行連結(line joining)</em> 規則が続きます。</p>
</section>
<section id="physical-lines">
<span id="id3"></span><h3><span class="section-number">2.1.2. </span>物理行 (physical line)<a class="headerlink" href="lexical_analysis.html#physical-lines" title="Link to this heading">¶</a></h3>
<p>物理行とは、行終端コードで区切られた文字列のことです。
ソースファイルやソース文字列では、各プラットフォームごとの標準の行終端コードを使用することができます。
Unix形式ではASCII LF (行送り: linefeed)文字、 Windows形式ではASCII 配列の CR LF (復帰: return に続いて行送り) 、 Macintosh形式ではASCII CR (復帰) 文字です。
これら全ての形式のコードは、違うプラットフォームでも等しく使用することができます。
入力の末尾も、最後の物理行の暗黙的な終端としての役割を果たします。</p>
<p>Pythonに埋め込む場合には、標準のC言語の改行文字の変換規則 (ASCII LFを表現した文字コード <code class="docutils literal notranslate"><span class="pre">\n</span></code> が行終端となります) に従って、 Python APIにソースコードを渡す必要があります。</p>
</section>
<section id="comments">
<span id="id4"></span><h3><span class="section-number">2.1.3. </span>コメント (Comments)<a class="headerlink" href="lexical_analysis.html#comments" title="Link to this heading">¶</a></h3>
<p id="index-4">コメントは文字列リテラル内に入っていないハッシュ文字 (<code class="docutils literal notranslate"><span class="pre">#</span></code>) から始まり、同じ物理行の末端で終わります。
非明示的な行継続規則が適用されていない限り、コメントは論理行を終端させます。
コメントは構文上無視されます。</p>
</section>
<section id="encoding-declarations">
<span id="encodings"></span><h3><span class="section-number">2.1.4. </span>エンコード宣言 (encoding declaration)<a class="headerlink" href="lexical_analysis.html#encoding-declarations" title="Link to this heading">¶</a></h3>
<p id="index-5">Python スクリプト中の一行目か二行目にあるコメントが正規表現 <code class="docutils literal notranslate"><span class="pre">coding[=:]\s*([-\w.]+)</span></code> にマッチする場合、コメントはエンコード宣言として処理されます; この表現の最初のグループがソースコードファイルのエンコードを指定します。エンコード宣言は自身の行になければなりません。二行目にある場合、一行目もコメントのみの行でなければなりません。エンコード宣言式として推奨する形式は</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># -*- coding: &lt;encoding-name&gt; -*-</span>
</pre></div>
</div>
<p>これは GNU Emacs で認識できます。または</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># vim:fileencoding=&lt;encoding-name&gt;</span>
</pre></div>
</div>
<p>これは、Bram Moolenar による VIM が認識できる形式です。</p>
<p>If no encoding declaration is found, the default encoding is UTF-8.  If the
implicit or explicit encoding of a file is UTF-8, an initial UTF-8 byte-order
mark (b'xefxbbxbf') is ignored rather than being a syntax error.</p>
<p>エンコーディングが宣言される場合、そのエンコーディング名は Python によって認識できなければなりません (<a class="reference internal" href="../library/codecs.html#standard-encodings"><span class="std std-ref">標準エンコーディング</span></a> を参照してください)。宣言されたエンコーディングは、例えば文字列リテラル、コメント、識別子などの、全ての字句解析に使われます。</p>
</section>
<section id="explicit-line-joining">
<span id="explicit-joining"></span><h3><span class="section-number">2.1.5. </span>明示的な行継続<a class="headerlink" href="lexical_analysis.html#explicit-line-joining" title="Link to this heading">¶</a></h3>
<p id="index-6">二つまたはそれ以上の物理行を論理行としてつなげるためには、バックスラッシュ文字 (<code class="docutils literal notranslate"><span class="pre">\</span></code>) を使って以下のようにします: 物理行が文字列リテラルやコメント中の文字でないバックスラッシュで終わっている場合、後続する行とつなげて一つの論理行を構成し、バックスラッシュおよびバックスラッシュの後ろにある行末文字を削除します。例えば:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="mi">1900</span> <span class="o">&lt;</span> <span class="n">year</span> <span class="o">&lt;</span> <span class="mi">2100</span> <span class="ow">and</span> <span class="mi">1</span> <span class="o">&lt;=</span> <span class="n">month</span> <span class="o">&lt;=</span> <span class="mi">12</span> \
   <span class="ow">and</span> <span class="mi">1</span> <span class="o">&lt;=</span> <span class="n">day</span> <span class="o">&lt;=</span> <span class="mi">31</span> <span class="ow">and</span> <span class="mi">0</span> <span class="o">&lt;=</span> <span class="n">hour</span> <span class="o">&lt;</span> <span class="mi">24</span> \
   <span class="ow">and</span> <span class="mi">0</span> <span class="o">&lt;=</span> <span class="n">minute</span> <span class="o">&lt;</span> <span class="mi">60</span> <span class="ow">and</span> <span class="mi">0</span> <span class="o">&lt;=</span> <span class="n">second</span> <span class="o">&lt;</span> <span class="mi">60</span><span class="p">:</span>   <span class="c1"># Looks like a valid date</span>
        <span class="k">return</span> <span class="mi">1</span>
</pre></div>
</div>
<p>バックスラッシュで終わる行にはコメントを入れることはできません。また、バックスラッシュを使ってコメントを継続することはできません。バックスラッシュが文字列リテラル中にある場合を除き、バックスラッシュの後ろにトークンを継続することはできません (すなわち、物理行内の文字列リテラル以外のトークンをバックスラッシュを使って分断することはできません)。上記以外の場所では、文字列リテラル外にあるバックスラッシュはどこにあっても不正となります。</p>
</section>
<section id="implicit-line-joining">
<span id="implicit-joining"></span><h3><span class="section-number">2.1.6. </span>非明示的な行継続<a class="headerlink" href="lexical_analysis.html#implicit-line-joining" title="Link to this heading">¶</a></h3>
<p>丸括弧 (parentheses)、角括弧 (square bracket) 、および波括弧 (curly brace) 内の式は、バックスラッシュを使わずに一行以上の物理行に分割することができます。例えば:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">month_names</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Januari&#39;</span><span class="p">,</span> <span class="s1">&#39;Februari&#39;</span><span class="p">,</span> <span class="s1">&#39;Maart&#39;</span><span class="p">,</span>      <span class="c1"># These are the</span>
               <span class="s1">&#39;April&#39;</span><span class="p">,</span>   <span class="s1">&#39;Mei&#39;</span><span class="p">,</span>      <span class="s1">&#39;Juni&#39;</span><span class="p">,</span>       <span class="c1"># Dutch names</span>
               <span class="s1">&#39;Juli&#39;</span><span class="p">,</span>    <span class="s1">&#39;Augustus&#39;</span><span class="p">,</span> <span class="s1">&#39;September&#39;</span><span class="p">,</span>  <span class="c1"># for the months</span>
               <span class="s1">&#39;Oktober&#39;</span><span class="p">,</span> <span class="s1">&#39;November&#39;</span><span class="p">,</span> <span class="s1">&#39;December&#39;</span><span class="p">]</span>   <span class="c1"># of the year</span>
</pre></div>
</div>
<p>非明示的に継続された行にはコメントを含めることができます。継続行のインデントは重要ではありません。空の継続行を書くことができます。非明示的な継続行中には、NEWLINE トークンは存在しません。非明示的な行の継続は、三重クオートされた文字列 (下記参照) でも発生します; この場合には、コメントを含めることができません。</p>
</section>
<section id="blank-lines">
<span id="id5"></span><h3><span class="section-number">2.1.7. </span>空行<a class="headerlink" href="lexical_analysis.html#blank-lines" title="Link to this heading">¶</a></h3>
<p id="index-7">スペース、タブ、フォームフィード、およびコメントのみを含む論理行は無視されます (すなわち、NEWLINE トークンは生成されません)。文を対話的に入力している際には、空行の扱いは行読み込み-評価-出力 (read-eval-print) ループの実装によって異なることがあります。標準的な対話的インタプリタの実装では、完全な空行でできた論理行 (すなわち、空白文字もコメントも全く含まない空行) は、複数行からなる文の終端を示します。</p>
</section>
<section id="indentation">
<span id="id6"></span><h3><span class="section-number">2.1.8. </span>インデント<a class="headerlink" href="lexical_analysis.html#indentation" title="Link to this heading">¶</a></h3>
<p id="index-8">論理行の行頭にある、先頭の空白 (スペースおよびタブ) の連なりは、その行のインデントレベルを計算するために使われます。インデントレベルは、実行文のグループ化方法を決定するために用いられます。</p>
<p>タブは (左から右の方向に) 1 つにつき 8 つのスペースで置き換えられ、置き換え後の文字数は 8 の倍数になります (Unix で使われている規則と同じになるよう意図されています)。そして、最初の非空白文字までのスペースの総数が、その行のインデントを決定します。インデントは、バックスラッシュで複数の物理行に分割できません; 最初のバックスラッシュまでの空白がインデントを決定します。</p>
<p>ソースファイルがタブとスペースを混在させ、その意味づけがタブのスペース換算数に依存するようなら、インデントは不合理なものとして却下されます。その場合は <a class="reference internal" href="../library/exceptions.html#TabError" title="TabError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">TabError</span></code></a> が送出されます。</p>
<p><strong>プラットフォーム間の互換性に関する注意:</strong> 非 UNIX プラットフォームにおけるテキストエディタの性質上、一つのソースファイル内でタブとインデントを混在させて使うのは賢明ではありません。また、プラットフォームによっては、最大インデントレベルを明示的に制限しているかもしれません。</p>
<p>フォームフィード文字が行の先頭にあっても構いません; フォームフィード文字は上のインデントレベル計算時には無視されます。フォームフィード文字が先頭の空白中の他の場所にある場合、その影響は未定義です (例えば、スペースの数を 0 にリセットするかもしれません)。</p>
<p id="index-9">連続する行における各々のインデントレベルは、 INDENT および DEDENT トークンを生成するために使われます。トークンの生成はスタックを用いて以下のように行われます。</p>
<p>ファイル中の最初の行を読み出す前に、スタックにゼロが一つ積まれ (push され) ます; このゼロは決して除去 (pop) されることはありません。スタックの先頭に積まれてゆく数字は、常にスタックの末尾から先頭にかけて厳密に増加するようになっています。各論理行の開始位置において、その行のインデントレベル値がスタックの先頭の値と比較されます。値が等しければ何もしません。インデントレベル値がスタック上の値よりも大きければ、インデントレベル値はスタックに積まれ、INDENT トークンが一つ生成されます。インデントレベル値がスタック上の値よりも小さい場合、その値はスタック内のいずれかの値と <em>等しくなければなりません</em> ; スタック上のインデントレベル値よりも大きい値はすべて除去され、値が一つ除去されるごとに DEDENT トークンが一つ生成されます。ファイルの末尾では、スタックに残っているゼロより大きい値は全て除去され、値が一つ除去されるごとに DEDENT トークンが一つ生成されます。</p>
<p>以下の例に正しく (しかし当惑させるように) インデントされた Python コードの一部を示します:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">perm</span><span class="p">(</span><span class="n">l</span><span class="p">):</span>
        <span class="c1"># Compute the list of all permutations of l</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">l</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="mi">1</span><span class="p">:</span>
                  <span class="k">return</span> <span class="p">[</span><span class="n">l</span><span class="p">]</span>
    <span class="n">r</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">l</span><span class="p">)):</span>
             <span class="n">s</span> <span class="o">=</span> <span class="n">l</span><span class="p">[:</span><span class="n">i</span><span class="p">]</span> <span class="o">+</span> <span class="n">l</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">:]</span>
             <span class="n">p</span> <span class="o">=</span> <span class="n">perm</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
             <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">p</span><span class="p">:</span>
              <span class="n">r</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">l</span><span class="p">[</span><span class="n">i</span><span class="p">:</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="n">x</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">r</span>
</pre></div>
</div>
<p>以下の例は、様々なインデントエラーになります:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span> <span class="k">def</span> <span class="nf">perm</span><span class="p">(</span><span class="n">l</span><span class="p">):</span>                       <span class="c1"># error: first line indented</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">l</span><span class="p">)):</span>             <span class="c1"># error: not indented</span>
    <span class="n">s</span> <span class="o">=</span> <span class="n">l</span><span class="p">[:</span><span class="n">i</span><span class="p">]</span> <span class="o">+</span> <span class="n">l</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">:]</span>
        <span class="n">p</span> <span class="o">=</span> <span class="n">perm</span><span class="p">(</span><span class="n">l</span><span class="p">[:</span><span class="n">i</span><span class="p">]</span> <span class="o">+</span> <span class="n">l</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">:])</span>   <span class="c1"># error: unexpected indent</span>
        <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">p</span><span class="p">:</span>
                <span class="n">r</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">l</span><span class="p">[</span><span class="n">i</span><span class="p">:</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="n">x</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">r</span>                <span class="c1"># error: inconsistent dedent</span>
</pre></div>
</div>
<p>(実際は、最初の 3 つのエラーはパーザによって検出されます; 最後のエラーのみが字句解析器で見つかります --- <code class="docutils literal notranslate"><span class="pre">return</span> <span class="pre">r</span></code> のインデントは、スタックから逐次除去されていくどのインデントレベル値とも一致しません)</p>
</section>
<section id="whitespace-between-tokens">
<span id="whitespace"></span><h3><span class="section-number">2.1.9. </span>トークン間の空白<a class="headerlink" href="lexical_analysis.html#whitespace-between-tokens" title="Link to this heading">¶</a></h3>
<p>論理行の先頭や文字列の内部にある場合を除き、空白文字であるスペース、タブ、およびフォームフィードは、トークンを分割するために自由に利用することができます。二つのトークンを並べて書くと別のトークンとしてみなされてしまうような場合には、トークンの間に空白が必要となります (例えば、ab は一つのトークンですが、 a b は二つのトークンとなります)。</p>
</section>
</section>
<section id="other-tokens">
<span id="id7"></span><h2><span class="section-number">2.2. </span>その他のトークン<a class="headerlink" href="lexical_analysis.html#other-tokens" title="Link to this heading">¶</a></h2>
<p>NEWLINE、INDENT、および DEDENT の他、以下のトークンのカテゴリ: <em>識別子 (identifier)</em>, <em>キーワード(keyword)</em>, <em>リテラル</em>, <em>演算子 (operator)</em>, <em>デリミタ (delimiter)</em> が存在します。空白文字 (上で述べた行終端文字以外) はトークンではありませんが、トークンを区切る働きがあります。トークンの解析にあいまいさが生じた場合、トークンは左から右に読んで不正でないトークンを構築できる最長の文字列を含むように構築されます。</p>
</section>
<section id="identifiers">
<span id="identifiers-and-keywords"></span><h2><span class="section-number">2.3. </span>識別子 (identifier) およびキーワード (keyword)<a class="headerlink" href="lexical_analysis.html#identifiers" title="Link to this heading">¶</a></h2>
<p id="index-10">識別子 (または <em>名前 (name)</em>) は、以下の字句定義で記述されます。</p>
<p>Python における識別子の構文は、Unicode 標準仕様添付書類 UAX-31 に基づき、詳細と変更点は以下で定義します。詳しくは <span class="target" id="index-39"></span><a class="pep reference external" href="https://peps.python.org/pep-3131/"><strong>PEP 3131</strong></a> を参照してください。</p>
<p>ASCII 範囲 (U+0001..U+007F) 内では、識別子として有効な文字は Python 2.x におけるものと同じです。大文字と小文字の <code class="docutils literal notranslate"><span class="pre">A</span></code> から <code class="docutils literal notranslate"><span class="pre">Z</span></code>、アンダースコア <code class="docutils literal notranslate"><span class="pre">_</span></code>、先頭の文字を除く数字 <code class="docutils literal notranslate"><span class="pre">0</span></code> から <code class="docutils literal notranslate"><span class="pre">9</span></code> です。</p>
<p>Python 3.0 は、さらに ASCII 範囲外から文字を導入します (<span class="target" id="index-40"></span><a class="pep reference external" href="https://peps.python.org/pep-3131/"><strong>PEP 3131</strong></a> を参照してください。)。これらの文字については、分類は <a class="reference internal" href="../library/unicodedata.html#module-unicodedata" title="unicodedata: Access the Unicode Database."><code class="xref py py-mod docutils literal notranslate"><span class="pre">unicodedata</span></code></a> モジュールに含まれる Unicode Character Database の版を使います。</p>
<p>識別子の長さには制限がありません。大小文字は区別されます。</p>
<pre>
<strong id="grammar-token-python-grammar-identifier">identifier  </strong> ::=  <a class="reference internal" href="lexical_analysis.html#grammar-token-python-grammar-xid_start"><code class="xref docutils literal notranslate"><span class="pre">xid_start</span></code></a> <a class="reference internal" href="lexical_analysis.html#grammar-token-python-grammar-xid_continue"><code class="xref docutils literal notranslate"><span class="pre">xid_continue</span></code></a>*
<strong id="grammar-token-python-grammar-id_start">id_start    </strong> ::=  &lt;all characters in general categories Lu, Ll, Lt, Lm, Lo, Nl, the underscore, and characters with the Other_ID_Start property&gt;
<strong id="grammar-token-python-grammar-id_continue">id_continue </strong> ::=  &lt;all characters in <a class="reference internal" href="lexical_analysis.html#grammar-token-python-grammar-id_start"><code class="xref docutils literal notranslate"><span class="pre">id_start</span></code></a>, plus characters in the categories Mn, Mc, Nd, Pc and others with the Other_ID_Continue property&gt;
<strong id="grammar-token-python-grammar-xid_start">xid_start   </strong> ::=  &lt;all characters in <a class="reference internal" href="lexical_analysis.html#grammar-token-python-grammar-id_start"><code class="xref docutils literal notranslate"><span class="pre">id_start</span></code></a> whose NFKC normalization is in &quot;id_start xid_continue*&quot;&gt;
<strong id="grammar-token-python-grammar-xid_continue">xid_continue</strong> ::=  &lt;all characters in <a class="reference internal" href="lexical_analysis.html#grammar-token-python-grammar-id_continue"><code class="xref docutils literal notranslate"><span class="pre">id_continue</span></code></a> whose NFKC normalization is in &quot;id_continue*&quot;&gt;
</pre>
<p>上で言及した Unicode カテゴリコードは以下を表します:</p>
<ul class="simple">
<li><p><em>Lu</em> - 大文字 (uppercase letters)</p></li>
<li><p><em>Ll</em> - 小文字 (lowercase letters)</p></li>
<li><p><em>Lt</em> - 先頭が大文字 (titlecase letters)</p></li>
<li><p><em>Lm</em> - 修飾文字 (modifier letters)</p></li>
<li><p><em>Lo</em> - その他の文字 (other letters)</p></li>
<li><p><em>Nl</em> - 数値を表す文字 (letter numbers)</p></li>
<li><p><em>Mn</em> - 字幅のない記号 (nonspacing marks)</p></li>
<li><p><em>Mc</em> - 字幅のある結合記号 (spacing combining marks)</p></li>
<li><p><em>Nd</em> - 10 進数字 (decimal numbers)</p></li>
<li><p><em>Pc</em> - 連結用句読記号 (connector punctuations)</p></li>
<li><p><em>Other_ID_Start</em> - explicit list of characters in <a class="reference external" href="https://www.unicode.org/Public/15.0.0/ucd/PropList.txt">PropList.txt</a> to support backwards
compatibility</p></li>
<li><p><em>Other_ID_Continue</em> - 同様</p></li>
</ul>
<p>すべての識別子は、解析中は正規化形式 NFKC に変換されます。識別子間の比較は NFKC に基づきます。</p>
<p>A non-normative HTML file listing all valid identifier characters for Unicode
15.0.0 can be found at
<a class="reference external" href="https://www.unicode.org/Public/15.0.0/ucd/DerivedCoreProperties.txt">https://www.unicode.org/Public/15.0.0/ucd/DerivedCoreProperties.txt</a></p>
<section id="keywords">
<span id="id8"></span><h3><span class="section-number">2.3.1. </span>キーワード (keyword)<a class="headerlink" href="lexical_analysis.html#keywords" title="Link to this heading">¶</a></h3>
<p id="index-13">以下の識別子は、予約語、または Python 言語における <em>キーワード (keyword)</em> として使われ、通常の識別子として使うことはできません。キーワードは厳密に下記の通りに綴らなければなりません:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>False      await      else       import     pass
None       break      except     in         raise
True       class      finally    is         return
and        continue   for        lambda     try
as         def        from       nonlocal   while
assert     del        global     not        with
async      elif       if         or         yield
</pre></div>
</div>
</section>
<section id="soft-keywords">
<span id="id9"></span><h3><span class="section-number">2.3.2. </span>ソフトキーワード<a class="headerlink" href="lexical_analysis.html#soft-keywords" title="Link to this heading">¶</a></h3>
<div class="versionadded" id="index-14">
<p><span class="versionmodified added">Added in version 3.10.</span></p>
</div>
<p>Some identifiers are only reserved under specific contexts. These are known as
<em>soft keywords</em>.  The identifiers <code class="docutils literal notranslate"><span class="pre">match</span></code>, <code class="docutils literal notranslate"><span class="pre">case</span></code>, <code class="docutils literal notranslate"><span class="pre">type</span></code> and <code class="docutils literal notranslate"><span class="pre">_</span></code> can
syntactically act as keywords in certain contexts,
but this distinction is done at the parser level, not when tokenizing.</p>
<p>As soft keywords, their use in the grammar is possible while still
preserving compatibility with existing code that uses these names as
identifier names.</p>
<p><code class="docutils literal notranslate"><span class="pre">match</span></code>, <code class="docutils literal notranslate"><span class="pre">case</span></code>, and <code class="docutils literal notranslate"><span class="pre">_</span></code> are used in the <a class="reference internal" href="compound_stmts.html#match"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">match</span></code></a> statement.
<code class="docutils literal notranslate"><span class="pre">type</span></code> is used in the <a class="reference internal" href="simple_stmts.html#type"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">type</span></code></a> statement.</p>
<div class="versionchanged">
<p><span class="versionmodified changed">バージョン 3.12 で変更: </span><code class="docutils literal notranslate"><span class="pre">type</span></code> is now a soft keyword.</p>
</div>
</section>
<section id="reserved-classes-of-identifiers">
<span id="id-classes"></span><span id="index-15"></span><h3><span class="section-number">2.3.3. </span>予約済みの識別子種 (reserved classes of identifiers)<a class="headerlink" href="lexical_analysis.html#reserved-classes-of-identifiers" title="Link to this heading">¶</a></h3>
<p>ある種の (キーワードを除く) 識別子には、特殊な意味があります。これらの識別子種は、先頭や末尾にあるアンダースコア文字のパターンで区別されます:</p>
<dl>
<dt><code class="docutils literal notranslate"><span class="pre">_*</span></code></dt><dd><p>Not imported by <code class="docutils literal notranslate"><span class="pre">from</span> <span class="pre">module</span> <span class="pre">import</span> <span class="pre">*</span></code>.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">_</span></code></dt><dd><p>In a <code class="docutils literal notranslate"><span class="pre">case</span></code> pattern within a <a class="reference internal" href="compound_stmts.html#match"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">match</span></code></a> statement, <code class="docutils literal notranslate"><span class="pre">_</span></code> is a
<a class="reference internal" href="lexical_analysis.html#soft-keywords"><span class="std std-ref">soft keyword</span></a> that denotes a
<a class="reference internal" href="compound_stmts.html#wildcard-patterns"><span class="std std-ref">wildcard</span></a>.</p>
<p>Separately, the interactive interpreter makes the result of the last evaluation
available in the variable <code class="docutils literal notranslate"><span class="pre">_</span></code>.
(It is stored in the <a class="reference internal" href="../library/builtins.html#module-builtins" title="builtins: The module that provides the built-in namespace."><code class="xref py py-mod docutils literal notranslate"><span class="pre">builtins</span></code></a> module, alongside built-in
functions like <code class="docutils literal notranslate"><span class="pre">print</span></code>.)</p>
<p>Elsewhere, <code class="docutils literal notranslate"><span class="pre">_</span></code> is a regular identifier. It is often used to name
&quot;special&quot; items, but it is not special to Python itself.</p>
<div class="admonition note">
<p class="admonition-title">注釈</p>
<p>名前 <code class="docutils literal notranslate"><span class="pre">_</span></code> は、しばしば国際化 (internationalization) と共に用いられます; この慣習についての詳しい情報は、 <a class="reference internal" href="../library/gettext.html#module-gettext" title="gettext: Multilingual internationalization services."><code class="xref py py-mod docutils literal notranslate"><span class="pre">gettext</span></code></a> を参照してください。</p>
<p>It is also commonly used for unused variables.</p>
</div>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">__*__</span></code></dt><dd><p>システムで定義された (system-defined) 名前です。非公式には&quot;dunder&quot;な名前と呼ばれます(訳注: double underscoresの略)。これらの名前はインタープリタと (標準ライブラリを含む) 実装上で定義されています。 現行のシステムでの名前は <a class="reference internal" href="datamodel.html#specialnames"><span class="std std-ref">特殊メソッド名</span></a> などで話題に挙げられています。 Python の将来のバージョンではより多くの名前が定義されることになります。このドキュメントで明記されている用法に従わない、 <em>あらゆる</em> <code class="docutils literal notranslate"><span class="pre">__*__</span></code> の名前は、いかなるコンテキストにおける利用でも、警告無く損害を引き起こすことがあります。</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">__*</span></code></dt><dd><p>クラスプライベート (class-private) な名前です。このカテゴリに属する名前は、クラス定義のコンテキスト上で用いられた場合、基底クラスと派生クラスの &quot;プライベートな&quot; 属性間で名前衝突が起こるのを防ぐために書き直されます。 <a class="reference internal" href="expressions.html#atom-identifiers"><span class="std std-ref">識別子 (identifier、または名前 (name))</span></a> を参照してください。</p>
</dd>
</dl>
</section>
</section>
<section id="literals">
<span id="id10"></span><h2><span class="section-number">2.4. </span>リテラル<a class="headerlink" href="lexical_analysis.html#literals" title="Link to this heading">¶</a></h2>
<p id="index-16">リテラル (literal) とは、いくつかの組み込み型の定数を表記したものです。</p>
<section id="string-and-bytes-literals">
<span id="strings"></span><span id="index-17"></span><h3><span class="section-number">2.4.1. </span>文字列およびバイト列リテラル<a class="headerlink" href="lexical_analysis.html#string-and-bytes-literals" title="Link to this heading">¶</a></h3>
<p>文字列リテラルは以下の字句定義で記述されます:</p>
<pre>
<strong id="grammar-token-python-grammar-stringliteral">stringliteral  </strong> ::=  [<a class="reference internal" href="lexical_analysis.html#grammar-token-python-grammar-stringprefix"><code class="xref docutils literal notranslate"><span class="pre">stringprefix</span></code></a>](<a class="reference internal" href="lexical_analysis.html#grammar-token-python-grammar-shortstring"><code class="xref docutils literal notranslate"><span class="pre">shortstring</span></code></a> | <a class="reference internal" href="lexical_analysis.html#grammar-token-python-grammar-longstring"><code class="xref docutils literal notranslate"><span class="pre">longstring</span></code></a>)
<strong id="grammar-token-python-grammar-stringprefix">stringprefix   </strong> ::=  &quot;r&quot; | &quot;u&quot; | &quot;R&quot; | &quot;U&quot; | &quot;f&quot; | &quot;F&quot;
                     | &quot;fr&quot; | &quot;Fr&quot; | &quot;fR&quot; | &quot;FR&quot; | &quot;rf&quot; | &quot;rF&quot; | &quot;Rf&quot; | &quot;RF&quot;
<strong id="grammar-token-python-grammar-shortstring">shortstring    </strong> ::=  &quot;'&quot; <a class="reference internal" href="lexical_analysis.html#grammar-token-python-grammar-shortstringitem"><code class="xref docutils literal notranslate"><span class="pre">shortstringitem</span></code></a>* &quot;'&quot; | '&quot;' <a class="reference internal" href="lexical_analysis.html#grammar-token-python-grammar-shortstringitem"><code class="xref docutils literal notranslate"><span class="pre">shortstringitem</span></code></a>* '&quot;'
<strong id="grammar-token-python-grammar-longstring">longstring     </strong> ::=  &quot;'''&quot; <a class="reference internal" href="lexical_analysis.html#grammar-token-python-grammar-longstringitem"><code class="xref docutils literal notranslate"><span class="pre">longstringitem</span></code></a>* &quot;'''&quot; | '&quot;&quot;&quot;' <a class="reference internal" href="lexical_analysis.html#grammar-token-python-grammar-longstringitem"><code class="xref docutils literal notranslate"><span class="pre">longstringitem</span></code></a>* '&quot;&quot;&quot;'
<strong id="grammar-token-python-grammar-shortstringitem">shortstringitem</strong> ::=  <a class="reference internal" href="lexical_analysis.html#grammar-token-python-grammar-shortstringchar"><code class="xref docutils literal notranslate"><span class="pre">shortstringchar</span></code></a> | <a class="reference internal" href="lexical_analysis.html#grammar-token-python-grammar-stringescapeseq"><code class="xref docutils literal notranslate"><span class="pre">stringescapeseq</span></code></a>
<strong id="grammar-token-python-grammar-longstringitem">longstringitem </strong> ::=  <a class="reference internal" href="lexical_analysis.html#grammar-token-python-grammar-longstringchar"><code class="xref docutils literal notranslate"><span class="pre">longstringchar</span></code></a> | <a class="reference internal" href="lexical_analysis.html#grammar-token-python-grammar-stringescapeseq"><code class="xref docutils literal notranslate"><span class="pre">stringescapeseq</span></code></a>
<strong id="grammar-token-python-grammar-shortstringchar">shortstringchar</strong> ::=  &lt;any source character except &quot;\&quot; or newline or the quote&gt;
<strong id="grammar-token-python-grammar-longstringchar">longstringchar </strong> ::=  &lt;any source character except &quot;\&quot;&gt;
<strong id="grammar-token-python-grammar-stringescapeseq">stringescapeseq</strong> ::=  &quot;\&quot; &lt;any source character&gt;
</pre>
<pre>
<strong id="grammar-token-python-grammar-bytesliteral">bytesliteral  </strong> ::=  <a class="reference internal" href="lexical_analysis.html#grammar-token-python-grammar-bytesprefix"><code class="xref docutils literal notranslate"><span class="pre">bytesprefix</span></code></a>(<a class="reference internal" href="lexical_analysis.html#grammar-token-python-grammar-shortbytes"><code class="xref docutils literal notranslate"><span class="pre">shortbytes</span></code></a> | <a class="reference internal" href="lexical_analysis.html#grammar-token-python-grammar-longbytes"><code class="xref docutils literal notranslate"><span class="pre">longbytes</span></code></a>)
<strong id="grammar-token-python-grammar-bytesprefix">bytesprefix   </strong> ::=  &quot;b&quot; | &quot;B&quot; | &quot;br&quot; | &quot;Br&quot; | &quot;bR&quot; | &quot;BR&quot; | &quot;rb&quot; | &quot;rB&quot; | &quot;Rb&quot; | &quot;RB&quot;
<strong id="grammar-token-python-grammar-shortbytes">shortbytes    </strong> ::=  &quot;'&quot; <a class="reference internal" href="lexical_analysis.html#grammar-token-python-grammar-shortbytesitem"><code class="xref docutils literal notranslate"><span class="pre">shortbytesitem</span></code></a>* &quot;'&quot; | '&quot;' <a class="reference internal" href="lexical_analysis.html#grammar-token-python-grammar-shortbytesitem"><code class="xref docutils literal notranslate"><span class="pre">shortbytesitem</span></code></a>* '&quot;'
<strong id="grammar-token-python-grammar-longbytes">longbytes     </strong> ::=  &quot;'''&quot; <a class="reference internal" href="lexical_analysis.html#grammar-token-python-grammar-longbytesitem"><code class="xref docutils literal notranslate"><span class="pre">longbytesitem</span></code></a>* &quot;'''&quot; | '&quot;&quot;&quot;' <a class="reference internal" href="lexical_analysis.html#grammar-token-python-grammar-longbytesitem"><code class="xref docutils literal notranslate"><span class="pre">longbytesitem</span></code></a>* '&quot;&quot;&quot;'
<strong id="grammar-token-python-grammar-shortbytesitem">shortbytesitem</strong> ::=  <a class="reference internal" href="lexical_analysis.html#grammar-token-python-grammar-shortbyteschar"><code class="xref docutils literal notranslate"><span class="pre">shortbyteschar</span></code></a> | <a class="reference internal" href="lexical_analysis.html#grammar-token-python-grammar-bytesescapeseq"><code class="xref docutils literal notranslate"><span class="pre">bytesescapeseq</span></code></a>
<strong id="grammar-token-python-grammar-longbytesitem">longbytesitem </strong> ::=  <a class="reference internal" href="lexical_analysis.html#grammar-token-python-grammar-longbyteschar"><code class="xref docutils literal notranslate"><span class="pre">longbyteschar</span></code></a> | <a class="reference internal" href="lexical_analysis.html#grammar-token-python-grammar-bytesescapeseq"><code class="xref docutils literal notranslate"><span class="pre">bytesescapeseq</span></code></a>
<strong id="grammar-token-python-grammar-shortbyteschar">shortbyteschar</strong> ::=  &lt;any ASCII character except &quot;\&quot; or newline or the quote&gt;
<strong id="grammar-token-python-grammar-longbyteschar">longbyteschar </strong> ::=  &lt;any ASCII character except &quot;\&quot;&gt;
<strong id="grammar-token-python-grammar-bytesescapeseq">bytesescapeseq</strong> ::=  &quot;\&quot; &lt;any ASCII character&gt;
</pre>
<p>上記の生成規則で示されていない文法的な制限が一つあります。リテラルの <a class="reference internal" href="lexical_analysis.html#grammar-token-python-grammar-stringprefix"><code class="xref std std-token docutils literal notranslate"><span class="pre">stringprefix</span></code></a> や <a class="reference internal" href="lexical_analysis.html#grammar-token-python-grammar-bytesprefix"><code class="xref std std-token docutils literal notranslate"><span class="pre">bytesprefix</span></code></a> と残りの部分の間に空白を入れてはならないことです。ソースコード文字セット (source character set) はエンコーディング宣言で定義されます。エンコーディング宣言がなければ UTF-8 です。節 <a class="reference internal" href="lexical_analysis.html#encodings"><span class="std std-ref">エンコード宣言 (encoding declaration)</span></a> を参照してください。</p>
<p id="index-18">In plain English: Both types of literals can be enclosed in matching single quotes
(<code class="docutils literal notranslate"><span class="pre">'</span></code>) or double quotes (<code class="docutils literal notranslate"><span class="pre">&quot;</span></code>).  They can also be enclosed in matching groups
of three single or double quotes (these are generally referred to as
<em>triple-quoted strings</em>). The backslash (<code class="docutils literal notranslate"><span class="pre">\</span></code>) character is used to give special
meaning to otherwise ordinary characters like <code class="docutils literal notranslate"><span class="pre">n</span></code>, which means 'newline' when
escaped (<code class="docutils literal notranslate"><span class="pre">\n</span></code>). It can also be used to escape characters that otherwise have a
special meaning, such as newline, backslash itself, or the quote character.
See <a class="reference internal" href="lexical_analysis.html#escape-sequences"><span class="std std-ref">escape sequences</span></a> below for examples.</p>
<p id="index-19">バイト列リテラルには、常に <code class="docutils literal notranslate"><span class="pre">'b'</span></code> や <code class="docutils literal notranslate"><span class="pre">'B'</span></code> が接頭します。これらによって、 <a class="reference internal" href="../library/stdtypes.html#str" title="str"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a> 型ではなく <a class="reference internal" href="../library/stdtypes.html#bytes" title="bytes"><code class="xref py py-class docutils literal notranslate"><span class="pre">bytes</span></code></a> 型のインスタンスが作成されます。バイト列リテラルは ASCII 文字のみ含むことができます。 128 以上の数値を持つバイトはエスケープして表されなければなりません。</p>
<p id="index-20">文字列リテラルとバイト列リテラルの両方は、任意で文字 <code class="docutils literal notranslate"><span class="pre">'r'</span></code> または <code class="docutils literal notranslate"><span class="pre">'R'</span></code> をプレフィックスに持つことができます; そのような文字列は <em class="dfn">raw strings</em> と呼ばれ、バックスラッシュをリテラル文字として扱います。その結果、文字列リテラルでは raw 文字列中の <code class="docutils literal notranslate"><span class="pre">'\U'</span></code> と <code class="docutils literal notranslate"><span class="pre">'\u'</span></code> のエスケープは特別扱いされません。 Python 2.x の raw unicode リテラルが Python 3.x とは異なる振る舞いをするため、 <code class="docutils literal notranslate"><span class="pre">'ur'</span></code> 構文はサポートされません。</p>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 3.3: </span>raw バイト列リテラルの <code class="docutils literal notranslate"><span class="pre">'rb'</span></code> プレフィックスが <code class="docutils literal notranslate"><span class="pre">'br'</span></code> の同義語として追加されました。</p>
<p>Python 2.x と 3.x 両対応のコードベースのメンテナンスを単純化するために、レガシー unicode リテラル (<code class="docutils literal notranslate"><span class="pre">u'value'</span></code>) のサポートが再び導入されました。詳細は <span class="target" id="index-41"></span><a class="pep reference external" href="https://peps.python.org/pep-0414/"><strong>PEP 414</strong></a> を参照してください。</p>
</div>
<p id="index-22"><code class="docutils literal notranslate"><span class="pre">'f'</span></code> または <code class="docutils literal notranslate"><span class="pre">'F'</span></code> の接頭辞が付いた文字列リテラルはフォーマット済み文字列リテラル（ <em class="dfn">formatted string literal</em> ）です。詳細については <a class="reference internal" href="lexical_analysis.html#f-strings"><span class="std std-ref">フォーマット済み文字列リテラル</span></a> を参照してください。接頭辞の <code class="docutils literal notranslate"><span class="pre">'f'</span></code> は <code class="docutils literal notranslate"><span class="pre">'r'</span></code> と組み合わせられますが、 <code class="docutils literal notranslate"><span class="pre">'b'</span></code> や <code class="docutils literal notranslate"><span class="pre">'u'</span></code> と組み合わせることはできません。つまりフォーマット済みの raw 文字列リテラルは可ですが、フォーマット済みのバイト列リテラルは不可です。</p>
<p>三重クオートリテラル中には、三連のエスケープされないクオート文字でリテラルを終端してしまわないかぎり、エスケープされていない改行やクオートを書くことができます (さらに、それらはそのまま文字列中に残ります)。(ここでいう &quot;クオート&quot; とは、文字列の囲みを開始するときに使った文字を示し、<code class="docutils literal notranslate"><span class="pre">'</span></code> か <code class="docutils literal notranslate"><span class="pre">&quot;</span></code> のいずれかです。)</p>
<section id="escape-sequences">
<span id="index-23"></span><span id="id11"></span><h4><span class="section-number">2.4.1.1. </span>Escape sequences<a class="headerlink" href="lexical_analysis.html#escape-sequences" title="Link to this heading">¶</a></h4>
<p><code class="docutils literal notranslate"><span class="pre">'r'</span></code> または <code class="docutils literal notranslate"><span class="pre">'R'</span></code> 接頭文字がつかないかぎり、文字列またはバイト列リテラル中のエスケープシーケンスは標準 C で使われているのと同様の法則にしたがって解釈されます。以下に Python で認識されるエスケープシーケンスを示します:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>エスケープシーケンス</p></th>
<th class="head"><p>意味</p></th>
<th class="head"><p>注釈</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">\</span></code>&lt;newline&gt;</p></td>
<td><p>バックスラッシュと改行文字が無視されます</p></td>
<td><p>(1)</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">\\</span></code></p></td>
<td><p>バックスラッシュ (<code class="docutils literal notranslate"><span class="pre">\</span></code>)</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">\'</span></code></p></td>
<td><p>一重引用符 (<code class="docutils literal notranslate"><span class="pre">'</span></code>)</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">\&quot;</span></code></p></td>
<td><p>二重引用符 (<code class="docutils literal notranslate"><span class="pre">&quot;</span></code>)</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">\a</span></code></p></td>
<td><p>ASCII 端末ベル (BEL)</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">\b</span></code></p></td>
<td><p>ASCII バックスペース (BS)</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">\f</span></code></p></td>
<td><p>ASCII フォームフィード (FF)</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">\n</span></code></p></td>
<td><p>ASCII 行送り (LF)</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">\r</span></code></p></td>
<td><p>ASCII 復帰 (CR)</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">\t</span></code></p></td>
<td><p>ASCII 水平タブ (TAB)</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">\v</span></code></p></td>
<td><p>ASCII 垂直タブ (VT)</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><code class="samp docutils literal notranslate"><span class="pre">\</span><em><span class="pre">ooo</span></em></code></p></td>
<td><p>8 進数値 <em>ooo</em> を持つ文字</p></td>
<td><p>(2,4)</p></td>
</tr>
<tr class="row-even"><td><p><code class="samp docutils literal notranslate"><span class="pre">\x</span><em><span class="pre">hh</span></em></code></p></td>
<td><p>16 進数値 <em>hh</em> を持つ文字</p></td>
<td><p>(3,4)</p></td>
</tr>
</tbody>
</table>
<p>文字列でのみ認識されるエスケープシーケンスは以下のとおりです:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>エスケープシーケンス</p></th>
<th class="head"><p>意味</p></th>
<th class="head"><p>注釈</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="samp docutils literal notranslate"><span class="pre">\N{</span><em><span class="pre">name</span></em><span class="pre">}</span></code></p></td>
<td><p>Unicode データベース中で <em>name</em> という名前の文字</p></td>
<td><p>(5)</p></td>
</tr>
<tr class="row-odd"><td><p><code class="samp docutils literal notranslate"><span class="pre">\u</span><em><span class="pre">xxxx</span></em></code></p></td>
<td><p>16-bit の十六進値 <em>xxxx</em> を持つ文字</p></td>
<td><p>(6)</p></td>
</tr>
<tr class="row-even"><td><p><code class="samp docutils literal notranslate"><span class="pre">\U</span><em><span class="pre">xxxxxxxx</span></em></code></p></td>
<td><p>32-bit の十六進値 <em>xxxxxxxx</em> を持つ文字</p></td>
<td><p>(7)</p></td>
</tr>
</tbody>
</table>
<p>注釈:</p>
<ol class="arabic">
<li><p>A backslash can be added at the end of a line to ignore the newline:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="s1">&#39;This string will not include </span><span class="se">\</span>
<span class="gp">... </span><span class="s1">backslashes or newline characters.&#39;</span>
<span class="go">&#39;This string will not include backslashes or newline characters.&#39;</span>
</pre></div>
</div>
<p>The same result can be achieved using <a class="reference internal" href="lexical_analysis.html#strings"><span class="std std-ref">triple-quoted strings</span></a>,
or parentheses and <a class="reference internal" href="lexical_analysis.html#string-concatenation"><span class="std std-ref">string literal concatenation</span></a>.</p>
</li>
<li><p>標準 C と同じく、最大で 3 桁の 8 進数まで受理します。</p>
<div class="versionchanged">
<p><span class="versionmodified changed">バージョン 3.11 で変更: </span>Octal escapes with value larger than <code class="docutils literal notranslate"><span class="pre">0o377</span></code> produce a
<a class="reference internal" href="../library/exceptions.html#DeprecationWarning" title="DeprecationWarning"><code class="xref py py-exc docutils literal notranslate"><span class="pre">DeprecationWarning</span></code></a>.</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">バージョン 3.12 で変更: </span>Octal escapes with value larger than <code class="docutils literal notranslate"><span class="pre">0o377</span></code> produce a
<a class="reference internal" href="../library/exceptions.html#SyntaxWarning" title="SyntaxWarning"><code class="xref py py-exc docutils literal notranslate"><span class="pre">SyntaxWarning</span></code></a>. In a future Python version they will be eventually
a <a class="reference internal" href="../library/exceptions.html#SyntaxError" title="SyntaxError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">SyntaxError</span></code></a>.</p>
</div>
</li>
<li><p>標準 C とは違い、ちょうど 2 桁の 16 進数しか受理されません。</p></li>
<li><p>バイト列リテラル中では、十六進および八進エスケープは与えられた値のバイトを表します。文字列リテラル中では、エスケープ文字は与えられた値を持つ Unicode 文字を表します。</p></li>
<li><div class="versionchanged">
<p><span class="versionmodified changed">バージョン 3.3 で変更: </span>name aliases <a class="footnote-reference brackets" href="lexical_analysis.html#id16" id="id12" role="doc-noteref"><span class="fn-bracket">[</span>1<span class="fn-bracket">]</span></a> に対するサポートが追加されました。</p>
</div>
</li>
<li><p>ちょうど 4 桁の 16 進数しか受理されません。</p></li>
<li><p>あらゆるユニコード文字はこのようにしてエンコードすることができます。正確に8文字の16進数字が必要です。</p></li>
</ol>
<p id="index-24">標準の C とは違い、認識されなかったエスケープシーケンスはすべて、そのまま文字列中に残ります。すなわち、<em>バックスラッシュも結果中に残ります</em>。(この挙動はデバッグの際に便利です: エスケープシーケンスが誤入力されたら、その出力結果が失敗しているのが分かりやすくなります。) 文字列中でのみ認識されるエスケープシーケンスは、バイト列リテラルには、認識されないエスケープシーケンスとして分類されるので注意してください。</p>
<div class="versionchanged">
<p><span class="versionmodified changed">バージョン 3.6 で変更: </span>Unrecognized escape sequences produce a <a class="reference internal" href="../library/exceptions.html#DeprecationWarning" title="DeprecationWarning"><code class="xref py py-exc docutils literal notranslate"><span class="pre">DeprecationWarning</span></code></a>.</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">バージョン 3.12 で変更: </span>Unrecognized escape sequences produce a <a class="reference internal" href="../library/exceptions.html#SyntaxWarning" title="SyntaxWarning"><code class="xref py py-exc docutils literal notranslate"><span class="pre">SyntaxWarning</span></code></a>. In a future
Python version they will be eventually a <a class="reference internal" href="../library/exceptions.html#SyntaxError" title="SyntaxError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">SyntaxError</span></code></a>.</p>
</div>
<p>raw リテラルでも、引用符はバックスラッシュでエスケープできますが、バックスラッシュ自体も文字列に残ります; 例えば、<code class="docutils literal notranslate"><span class="pre">r&quot;\&quot;&quot;</span></code> は有効な文字列リテラルで、バックスラッシュと二重引用符からなる文字列を表します; <code class="docutils literal notranslate"><span class="pre">r&quot;\&quot;</span></code> は無効な文字列リテラルです (raw リテラルを奇数個連なったバックスラッシュで終わらせることはできません)。具体的には、(バックスラッシュが直後のクオート文字をエスケープしてしまうので)  <em>raw文字列を単一のバックスラッシュで終わらせることはできません</em> さらに、バックスラッシュの直後に改行がきても、行継続を意味する <em>のではなく</em>、リテラルの一部であるそれら二つの文字として解釈されます。</p>
</section>
</section>
<section id="string-literal-concatenation">
<span id="string-concatenation"></span><h3><span class="section-number">2.4.2. </span>文字列リテラルの結合 (concatenation)<a class="headerlink" href="lexical_analysis.html#string-literal-concatenation" title="Link to this heading">¶</a></h3>
<p>文字列やバイト列リテラルは、互いに異なる引用符を使っていても (空白文字で区切っても) 複数隣接させることができます。これは各々の文字列を結合するのと同じ意味を持ちます。したがって、<code class="docutils literal notranslate"><span class="pre">&quot;hello&quot;</span> <span class="pre">'world'</span></code> は <code class="docutils literal notranslate"><span class="pre">&quot;helloworld&quot;</span></code> と同じです。この機能を使うと、バックスラッシュを減らしたり、長い文字列を手軽に分離して複数行にまたがらせたり、あるいは部分文字列ごとにコメントを追加することさえできます。例えば:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="s2">&quot;[A-Za-z_]&quot;</span>       <span class="c1"># letter or underscore</span>
           <span class="s2">&quot;[A-Za-z0-9_]*&quot;</span>   <span class="c1"># letter, digit or underscore</span>
          <span class="p">)</span>
</pre></div>
</div>
<p>この機能は文法レベルで定義されていますが、スクリプトをコンパイルする際の処理として実現されることに注意してください。実行時に文字列表現を結合したければ、 '+' 演算子を使わなければなりません。また、リテラルの結合においては、結合する各要素に異なる引用符形式を使ったり (raw 文字列と三重引用符を混ぜることさえできます) 、フォーマット済み文字列リテラルと通常の文字列リテラルを結合したりすることもできますので注意してください。</p>
</section>
<section id="formatted-string-literals">
<span id="f-strings"></span><span id="index-25"></span><span id="id13"></span><h3><span class="section-number">2.4.3. </span>f-strings<a class="headerlink" href="lexical_analysis.html#formatted-string-literals" title="Link to this heading">¶</a></h3>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 3.6.</span></p>
</div>
<p>フォーマット済み文字列リテラル（ <em class="dfn">formatted string literal</em> ）または <em class="dfn">f-string</em> は、接頭辞 <code class="docutils literal notranslate"><span class="pre">'f'</span></code> または <code class="docutils literal notranslate"><span class="pre">'F'</span></code> の付いた文字列リテラルです。これらの文字列には、波括弧 <code class="docutils literal notranslate"><span class="pre">{}</span></code> で区切られた式である置換フィールドを含めることができます。他の文字列リテラルの場合は内容が常に一定で変わることが無いのに対して、フォーマット済み文字列リテラルは実行時に式として評価されます。</p>
<p>エスケープシーケンスは通常の文字列リテラルと同様にデコードされます (ただしリテラルが raw 文字列でもある場合は除きます) 。エスケープシーケンスをデコードした後は、文字列の内容は次の文法で解釈されます:</p>
<pre>
<strong id="grammar-token-python-grammar-f_string">f_string         </strong> ::=  (<a class="reference internal" href="lexical_analysis.html#grammar-token-python-grammar-literal_char"><code class="xref docutils literal notranslate"><span class="pre">literal_char</span></code></a> | &quot;{{&quot; | &quot;}}&quot; | <a class="reference internal" href="lexical_analysis.html#grammar-token-python-grammar-replacement_field"><code class="xref docutils literal notranslate"><span class="pre">replacement_field</span></code></a>)*
<strong id="grammar-token-python-grammar-replacement_field">replacement_field</strong> ::=  &quot;{&quot; <a class="reference internal" href="lexical_analysis.html#grammar-token-python-grammar-f_expression"><code class="xref docutils literal notranslate"><span class="pre">f_expression</span></code></a> [&quot;=&quot;] [&quot;!&quot; <a class="reference internal" href="lexical_analysis.html#grammar-token-python-grammar-conversion"><code class="xref docutils literal notranslate"><span class="pre">conversion</span></code></a>] [&quot;:&quot; <a class="reference internal" href="lexical_analysis.html#grammar-token-python-grammar-format_spec"><code class="xref docutils literal notranslate"><span class="pre">format_spec</span></code></a>] &quot;}&quot;
<strong id="grammar-token-python-grammar-f_expression">f_expression     </strong> ::=  (<a class="reference internal" href="expressions.html#grammar-token-python-grammar-conditional_expression"><code class="xref docutils literal notranslate"><span class="pre">conditional_expression</span></code></a> | &quot;*&quot; <a class="reference internal" href="expressions.html#grammar-token-python-grammar-or_expr"><code class="xref docutils literal notranslate"><span class="pre">or_expr</span></code></a>)
                         (&quot;,&quot; <a class="reference internal" href="expressions.html#grammar-token-python-grammar-conditional_expression"><code class="xref docutils literal notranslate"><span class="pre">conditional_expression</span></code></a> | &quot;,&quot; &quot;*&quot; <a class="reference internal" href="expressions.html#grammar-token-python-grammar-or_expr"><code class="xref docutils literal notranslate"><span class="pre">or_expr</span></code></a>)* [&quot;,&quot;]
                       | <a class="reference internal" href="expressions.html#grammar-token-python-grammar-yield_expression"><code class="xref docutils literal notranslate"><span class="pre">yield_expression</span></code></a>
<strong id="grammar-token-python-grammar-conversion">conversion       </strong> ::=  &quot;s&quot; | &quot;r&quot; | &quot;a&quot;
<strong id="grammar-token-python-grammar-format_spec">format_spec      </strong> ::=  (<a class="reference internal" href="lexical_analysis.html#grammar-token-python-grammar-literal_char"><code class="xref docutils literal notranslate"><span class="pre">literal_char</span></code></a> | <a class="reference internal" href="lexical_analysis.html#grammar-token-python-grammar-replacement_field"><code class="xref docutils literal notranslate"><span class="pre">replacement_field</span></code></a>)*
<strong id="grammar-token-python-grammar-literal_char">literal_char     </strong> ::=  &lt;any code point except &quot;{&quot;, &quot;}&quot; or NULL&gt;
</pre>
<p>文字列のうち、波括弧で囲まれた部分以外は文字通り解釈されます。ただし、二重波括弧 <code class="docutils literal notranslate"><span class="pre">'{{'</span></code> および <code class="docutils literal notranslate"><span class="pre">'}}'</span></code> は単一の波括弧に置き換えられます。単一の開き波括弧 <code class="docutils literal notranslate"><span class="pre">'{'</span></code> は置換フィールドの始まりを意味し、その中身は Python の式で始まります。(デバッグ時に便利な機能として) 式のテキストと、評価後の値との両者を表示したい場合には、式の後に等号 <code class="docutils literal notranslate"><span class="pre">'='</span></code> を加えてください。その後ろには、感嘆符 <code class="docutils literal notranslate"><span class="pre">'!'</span></code> によって導入される変換フィールドを続けることができます。さらに、<code class="docutils literal notranslate"><span class="pre">':'</span></code> に続いて書式指定子を追加できます。置換フィールドは単一の閉じ波括弧 <code class="docutils literal notranslate"><span class="pre">'}'</span></code> で終わります。</p>
<p>Expressions in formatted string literals are treated like regular
Python expressions surrounded by parentheses, with a few exceptions.
An empty expression is not allowed, and both <a class="reference internal" href="expressions.html#lambda"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">lambda</span></code></a>  and
assignment expressions <code class="docutils literal notranslate"><span class="pre">:=</span></code> must be surrounded by explicit parentheses.
Each expression is evaluated in the context where the formatted string literal
appears, in order from left to right.  Replacement expressions can contain
newlines in both single-quoted and triple-quoted f-strings and they can contain
comments.  Everything that comes after a <code class="docutils literal notranslate"><span class="pre">#</span></code> inside a replacement field
is a comment (even closing braces and quotes). In that case, replacement fields
must be closed in a different line.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>&gt;&gt;&gt; f&quot;abc{a # This is a comment }&quot;
... + 3}&quot;
&#39;abc5&#39;
</pre></div>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">バージョン 3.7 で変更: </span>Python 3.7 より前のバージョンでは、<a class="reference internal" href="expressions.html#await"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">await</span></code></a> 式および <a class="reference internal" href="compound_stmts.html#async-for"><code class="xref std std-keyword docutils literal notranslate"><span class="pre">async</span> <span class="pre">for</span></code></a> 句を含む内包表記は、実装に伴う問題の都合により許されていませんでした。</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">バージョン 3.12 で変更: </span>Prior to Python 3.12, comments were not allowed inside f-string replacement
fields.</p>
</div>
<p>等号 <code class="docutils literal notranslate"><span class="pre">'='</span></code> が指定されたとき、出力文字列は、式のテキスト表現、等号 <code class="docutils literal notranslate"><span class="pre">'='</span></code>、および評価された式を含みます。開き波括弧 <code class="docutils literal notranslate"><span class="pre">'{'</span></code> の直後、式の中、および <code class="docutils literal notranslate"><span class="pre">'='</span></code> の後に含まれる空白文字はすべて保存されます。書式指定子が存在しない限り、<code class="docutils literal notranslate"><span class="pre">'='</span></code> を指定した場合は、式に対して <a class="reference internal" href="../library/functions.html#repr" title="repr"><code class="xref py py-func docutils literal notranslate"><span class="pre">repr()</span></code></a> を適用した結果が出力になります。一方、書式指定子が存在する場合は、変換フィールドで <code class="docutils literal notranslate"><span class="pre">'!r'</span></code> が指定されていない限り、デフォルトで <a class="reference internal" href="../library/stdtypes.html#str" title="str"><code class="xref py py-func docutils literal notranslate"><span class="pre">str()</span></code></a> が適用されます。</p>
<div class="versionadded">
<p><span class="versionmodified added">Added in version 3.8: </span>等号 <code class="docutils literal notranslate"><span class="pre">'='</span></code>。</p>
</div>
<p>もし変換フィールドが指定されていた場合、式の評価結果はフォーマットの前に変換されます。変換 <code class="docutils literal notranslate"><span class="pre">'!s'</span></code> は <a class="reference internal" href="../library/stdtypes.html#str" title="str"><code class="xref py py-func docutils literal notranslate"><span class="pre">str()</span></code></a> を、 <code class="docutils literal notranslate"><span class="pre">'!r'</span></code> は <a class="reference internal" href="../library/functions.html#repr" title="repr"><code class="xref py py-func docutils literal notranslate"><span class="pre">repr()</span></code></a> を、そして <code class="docutils literal notranslate"><span class="pre">'!a'</span></code> は <a class="reference internal" href="../library/functions.html#ascii" title="ascii"><code class="xref py py-func docutils literal notranslate"><span class="pre">ascii()</span></code></a> を呼び出します。</p>
<p>The result is then formatted using the <a class="reference internal" href="../library/functions.html#format" title="format"><code class="xref py py-func docutils literal notranslate"><span class="pre">format()</span></code></a> protocol.  The
format specifier is passed to the <a class="reference internal" href="datamodel.html#object.__format__" title="object.__format__"><code class="xref py py-meth docutils literal notranslate"><span class="pre">__format__()</span></code></a> method of the
expression or conversion result.  An empty string is passed when the
format specifier is omitted.  The formatted result is then included in
the final value of the whole string.</p>
<p>Top-level format specifiers may include nested replacement fields. These nested
fields may include their own conversion fields and <a class="reference internal" href="../library/string.html#formatspec"><span class="std std-ref">format specifiers</span></a>, but may not include more deeply nested replacement fields. The
<a class="reference internal" href="../library/string.html#formatspec"><span class="std std-ref">format specifier mini-language</span></a> is the same as that used by
the <a class="reference internal" href="../library/stdtypes.html#str.format" title="str.format"><code class="xref py py-meth docutils literal notranslate"><span class="pre">str.format()</span></code></a> method.</p>
<p>フォーマット済み文字列リテラルは他の文字列リテラルと結合できますが、置換フィールドを複数のリテラルに分割して書くことはできません。</p>
<p>フォーマット済み文字列リテラルの例をいくつか挙げます:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;Fred&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="sa">f</span><span class="s2">&quot;He said his name is </span><span class="si">{</span><span class="n">name</span><span class="si">!r}</span><span class="s2">.&quot;</span>
<span class="go">&quot;He said his name is &#39;Fred&#39;.&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="sa">f</span><span class="s2">&quot;He said his name is </span><span class="si">{</span><span class="nb">repr</span><span class="p">(</span><span class="n">name</span><span class="p">)</span><span class="si">}</span><span class="s2">.&quot;</span>  <span class="c1"># repr() is equivalent to !r</span>
<span class="go">&quot;He said his name is &#39;Fred&#39;.&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">width</span> <span class="o">=</span> <span class="mi">10</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">precision</span> <span class="o">=</span> <span class="mi">4</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">value</span> <span class="o">=</span> <span class="n">decimal</span><span class="o">.</span><span class="n">Decimal</span><span class="p">(</span><span class="s2">&quot;12.34567&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="sa">f</span><span class="s2">&quot;result: </span><span class="si">{</span><span class="n">value</span><span class="si">:{</span><span class="n">width</span><span class="si">}</span><span class="s2">.</span><span class="si">{</span><span class="n">precision</span><span class="si">}}</span><span class="s2">&quot;</span>  <span class="c1"># nested fields</span>
<span class="go">&#39;result:      12.35&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">today</span> <span class="o">=</span> <span class="n">datetime</span><span class="p">(</span><span class="n">year</span><span class="o">=</span><span class="mi">2017</span><span class="p">,</span> <span class="n">month</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">day</span><span class="o">=</span><span class="mi">27</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">today</span><span class="si">:</span><span class="s2">%B %d, %Y</span><span class="si">}</span><span class="s2">&quot;</span>  <span class="c1"># using date format specifier</span>
<span class="go">&#39;January 27, 2017&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">today</span><span class="si">=:</span><span class="s2">%B %d, %Y</span><span class="si">}</span><span class="s2">&quot;</span> <span class="c1"># using date format specifier and debugging</span>
<span class="go">&#39;today=January 27, 2017&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">number</span> <span class="o">=</span> <span class="mi">1024</span>
<span class="gp">&gt;&gt;&gt; </span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">number</span><span class="si">:</span><span class="s2">#0x</span><span class="si">}</span><span class="s2">&quot;</span>  <span class="c1"># using integer format specifier</span>
<span class="go">&#39;0x400&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">foo</span> <span class="o">=</span> <span class="s2">&quot;bar&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="w"> </span><span class="n">foo</span><span class="w"> </span><span class="si">= }</span><span class="s2">&quot;</span> <span class="c1"># preserves whitespace</span>
<span class="go">&quot; foo = &#39;bar&#39;&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">line</span> <span class="o">=</span> <span class="s2">&quot;The mill&#39;s closed&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">line</span><span class="w"> </span><span class="si">= }</span><span class="s2">&quot;</span>
<span class="go">&#39;line = &quot;The mill\&#39;s closed&quot;&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">line</span><span class="w"> </span><span class="si">= :</span><span class="s2">20</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="go">&quot;line = The mill&#39;s closed   &quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">line</span><span class="w"> </span><span class="si">= !r:</span><span class="s2">20</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="go">&#39;line = &quot;The mill\&#39;s closed&quot; &#39;</span>
</pre></div>
</div>
<p>Reusing the outer f-string quoting type inside a replacement field is
permitted:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="sa">f</span><span class="s2">&quot;abc </span><span class="si">{</span><span class="n">a</span><span class="p">[</span><span class="s2">&quot;x&quot;</span><span class="p">]</span><span class="si">}</span><span class="s2"> def&quot;</span>
<span class="go">&#39;abc 2 def&#39;</span>
</pre></div>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">バージョン 3.12 で変更: </span>Prior to Python 3.12, reuse of the same quoting type of the outer f-string
inside a replacement field was not possible.</p>
</div>
<p>Backslashes are also allowed in replacement fields and are evaluated the same
way as in any other context:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="s2">&quot;b&quot;</span><span class="p">,</span> <span class="s2">&quot;c&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;List a contains:</span><span class="se">\n</span><span class="si">{</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">a</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="go">List a contains:</span>
<span class="go">a</span>
<span class="go">b</span>
<span class="go">c</span>
</pre></div>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">バージョン 3.12 で変更: </span>Prior to Python 3.12, backslashes were not permitted inside an f-string
replacement field.</p>
</div>
<p>フォーマット済み文字列リテラルは、たとえ式を含んでいなかったとしても、 docstring としては使えません。</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">foo</span><span class="p">():</span>
<span class="gp">... </span>    <span class="sa">f</span><span class="s2">&quot;Not a docstring&quot;</span>
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">foo</span><span class="o">.</span><span class="vm">__doc__</span> <span class="ow">is</span> <span class="kc">None</span>
<span class="go">True</span>
</pre></div>
</div>
<p>フォーマット済み文字列リテラルを Python に追加した提案 <span class="target" id="index-42"></span><a class="pep reference external" href="https://peps.python.org/pep-0498/"><strong>PEP 498</strong></a> も参照してください。また関連する文字列フォーマットの仕組みを使っている <a class="reference internal" href="../library/stdtypes.html#str.format" title="str.format"><code class="xref py py-meth docutils literal notranslate"><span class="pre">str.format()</span></code></a> も参照してください。</p>
</section>
<section id="numeric-literals">
<span id="numbers"></span><h3><span class="section-number">2.4.4. </span>数値リテラル<a class="headerlink" href="lexical_analysis.html#numeric-literals" title="Link to this heading">¶</a></h3>
<p id="index-27">数値リテラルには 3 種類あります。整数 (integer)、浮動小数点数 (floating point number)、虚数(imaginary numbers) です。複素数リテラルは存在しません。(複素数は実数と虚数の和として作れます)。</p>
<p>数値リテラルには符号が含まれていないことに注意してください; <code class="docutils literal notranslate"><span class="pre">-1</span></code> のような句は、実際には単項演算子 (unary operator) '<code class="docutils literal notranslate"><span class="pre">-</span></code>' とリテラル <code class="docutils literal notranslate"><span class="pre">1</span></code> を組み合わせたものです。</p>
</section>
<section id="integer-literals">
<span id="integers"></span><span id="index-28"></span><h3><span class="section-number">2.4.5. </span>整数リテラル<a class="headerlink" href="lexical_analysis.html#integer-literals" title="Link to this heading">¶</a></h3>
<p>整数リテラルは以下の字句定義で記述されます:</p>
<pre>
<strong id="grammar-token-python-grammar-integer">integer     </strong> ::=  <a class="reference internal" href="lexical_analysis.html#grammar-token-python-grammar-decinteger"><code class="xref docutils literal notranslate"><span class="pre">decinteger</span></code></a> | <a class="reference internal" href="lexical_analysis.html#grammar-token-python-grammar-bininteger"><code class="xref docutils literal notranslate"><span class="pre">bininteger</span></code></a> | <a class="reference internal" href="lexical_analysis.html#grammar-token-python-grammar-octinteger"><code class="xref docutils literal notranslate"><span class="pre">octinteger</span></code></a> | <a class="reference internal" href="lexical_analysis.html#grammar-token-python-grammar-hexinteger"><code class="xref docutils literal notranslate"><span class="pre">hexinteger</span></code></a>
<strong id="grammar-token-python-grammar-decinteger">decinteger  </strong> ::=  <a class="reference internal" href="lexical_analysis.html#grammar-token-python-grammar-nonzerodigit"><code class="xref docutils literal notranslate"><span class="pre">nonzerodigit</span></code></a> ([&quot;_&quot;] <a class="reference internal" href="lexical_analysis.html#grammar-token-python-grammar-digit"><code class="xref docutils literal notranslate"><span class="pre">digit</span></code></a>)* | &quot;0&quot;+ ([&quot;_&quot;] &quot;0&quot;)*
<strong id="grammar-token-python-grammar-bininteger">bininteger  </strong> ::=  &quot;0&quot; (&quot;b&quot; | &quot;B&quot;) ([&quot;_&quot;] <a class="reference internal" href="lexical_analysis.html#grammar-token-python-grammar-bindigit"><code class="xref docutils literal notranslate"><span class="pre">bindigit</span></code></a>)+
<strong id="grammar-token-python-grammar-octinteger">octinteger  </strong> ::=  &quot;0&quot; (&quot;o&quot; | &quot;O&quot;) ([&quot;_&quot;] <a class="reference internal" href="lexical_analysis.html#grammar-token-python-grammar-octdigit"><code class="xref docutils literal notranslate"><span class="pre">octdigit</span></code></a>)+
<strong id="grammar-token-python-grammar-hexinteger">hexinteger  </strong> ::=  &quot;0&quot; (&quot;x&quot; | &quot;X&quot;) ([&quot;_&quot;] <a class="reference internal" href="lexical_analysis.html#grammar-token-python-grammar-hexdigit"><code class="xref docutils literal notranslate"><span class="pre">hexdigit</span></code></a>)+
<strong id="grammar-token-python-grammar-nonzerodigit">nonzerodigit</strong> ::=  &quot;1&quot;...&quot;9&quot;
<strong id="grammar-token-python-grammar-digit">digit       </strong> ::=  &quot;0&quot;...&quot;9&quot;
<strong id="grammar-token-python-grammar-bindigit">bindigit    </strong> ::=  &quot;0&quot; | &quot;1&quot;
<strong id="grammar-token-python-grammar-octdigit">octdigit    </strong> ::=  &quot;0&quot;...&quot;7&quot;
<strong id="grammar-token-python-grammar-hexdigit">hexdigit    </strong> ::=  <a class="reference internal" href="lexical_analysis.html#grammar-token-python-grammar-digit"><code class="xref docutils literal notranslate"><span class="pre">digit</span></code></a> | &quot;a&quot;...&quot;f&quot; | &quot;A&quot;...&quot;F&quot;
</pre>
<p>値がメモリ上に収まるかどうかという問題を除けば、整数リテラルには長さの制限がありません。</p>
<p>アンダースコアはリテラルの値を判断するにあたって無視されます。そのためアンダースコアを使って数字をグループ化することで読みやすくできます。アンダースコアは数字と数字の間に 1 つだけ、あるいは <code class="docutils literal notranslate"><span class="pre">0x</span></code> のような基数指定の直後に 1 つだけ挿入できます。</p>
<p>なお、非 0 の十進数の先頭には 0 を付けられません。これは、Python がバージョン 3.0 以前に使っていた C 形式の八進リテラルとの曖昧さを回避するためです。</p>
<p>整数リテラルの例をいくつか示します:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="mi">7</span>     <span class="mi">2147483647</span>                        <span class="mo">0o177</span>    <span class="mb">0b100110111</span>
<span class="mi">3</span>     <span class="mi">79228162514264337593543950336</span>     <span class="mo">0o377</span>    <span class="mh">0xdeadbeef</span>
      <span class="mi">100_000_000_000</span>                   <span class="mb">0b_1110_0101</span>
</pre></div>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">バージョン 3.6 で変更: </span>グループ化を目的としたリテラル中のアンダースコアが許されるようになりました。</p>
</div>
</section>
<section id="floating-point-literals">
<span id="floating"></span><span id="index-29"></span><h3><span class="section-number">2.4.6. </span>浮動小数点数リテラル<a class="headerlink" href="lexical_analysis.html#floating-point-literals" title="Link to this heading">¶</a></h3>
<p>浮動小数点数リテラルは以下の字句定義で記述されます:</p>
<pre>
<strong id="grammar-token-python-grammar-floatnumber">floatnumber  </strong> ::=  <a class="reference internal" href="lexical_analysis.html#grammar-token-python-grammar-pointfloat"><code class="xref docutils literal notranslate"><span class="pre">pointfloat</span></code></a> | <a class="reference internal" href="lexical_analysis.html#grammar-token-python-grammar-exponentfloat"><code class="xref docutils literal notranslate"><span class="pre">exponentfloat</span></code></a>
<strong id="grammar-token-python-grammar-pointfloat">pointfloat   </strong> ::=  [<a class="reference internal" href="lexical_analysis.html#grammar-token-python-grammar-digitpart"><code class="xref docutils literal notranslate"><span class="pre">digitpart</span></code></a>] <a class="reference internal" href="lexical_analysis.html#grammar-token-python-grammar-fraction"><code class="xref docutils literal notranslate"><span class="pre">fraction</span></code></a> | <a class="reference internal" href="lexical_analysis.html#grammar-token-python-grammar-digitpart"><code class="xref docutils literal notranslate"><span class="pre">digitpart</span></code></a> &quot;.&quot;
<strong id="grammar-token-python-grammar-exponentfloat">exponentfloat</strong> ::=  (<a class="reference internal" href="lexical_analysis.html#grammar-token-python-grammar-digitpart"><code class="xref docutils literal notranslate"><span class="pre">digitpart</span></code></a> | <a class="reference internal" href="lexical_analysis.html#grammar-token-python-grammar-pointfloat"><code class="xref docutils literal notranslate"><span class="pre">pointfloat</span></code></a>) <a class="reference internal" href="lexical_analysis.html#grammar-token-python-grammar-exponent"><code class="xref docutils literal notranslate"><span class="pre">exponent</span></code></a>
<strong id="grammar-token-python-grammar-digitpart">digitpart    </strong> ::=  <a class="reference internal" href="lexical_analysis.html#grammar-token-python-grammar-digit"><code class="xref docutils literal notranslate"><span class="pre">digit</span></code></a> ([&quot;_&quot;] <a class="reference internal" href="lexical_analysis.html#grammar-token-python-grammar-digit"><code class="xref docutils literal notranslate"><span class="pre">digit</span></code></a>)*
<strong id="grammar-token-python-grammar-fraction">fraction     </strong> ::=  &quot;.&quot; <a class="reference internal" href="lexical_analysis.html#grammar-token-python-grammar-digitpart"><code class="xref docutils literal notranslate"><span class="pre">digitpart</span></code></a>
<strong id="grammar-token-python-grammar-exponent">exponent     </strong> ::=  (&quot;e&quot; | &quot;E&quot;) [&quot;+&quot; | &quot;-&quot;] <a class="reference internal" href="lexical_analysis.html#grammar-token-python-grammar-digitpart"><code class="xref docutils literal notranslate"><span class="pre">digitpart</span></code></a>
</pre>
<p>なお、整数部と指数部は常に 10 を基数として解釈されます。例えば、<code class="docutils literal notranslate"><span class="pre">077e010</span></code> は正しい表記であり、<code class="docutils literal notranslate"><span class="pre">77e10</span></code> と同じ数を表します。浮動小数点数リテラルの取りうる値の範囲は実装に依存します。整数リテラルと同じように、アンダースコアで数字をグループ分けできます。</p>
<p>浮動小数点数リテラルの例をいくつか示します:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="mf">3.14</span>    <span class="mf">10.</span>    <span class="mf">.001</span>    <span class="mf">1e100</span>    <span class="mf">3.14e-10</span>    <span class="mf">0e0</span>    <span class="mf">3.14_15_93</span>
</pre></div>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">バージョン 3.6 で変更: </span>グループ化を目的としたリテラル中のアンダースコアが許されるようになりました。</p>
</div>
</section>
<section id="imaginary-literals">
<span id="imaginary"></span><span id="index-30"></span><h3><span class="section-number">2.4.7. </span>虚数 (imaginary) リテラル<a class="headerlink" href="lexical_analysis.html#imaginary-literals" title="Link to this heading">¶</a></h3>
<p>虚数リテラルは以下のような字句定義で記述されます:</p>
<pre>
<strong id="grammar-token-python-grammar-imagnumber">imagnumber</strong> ::=  (<a class="reference internal" href="lexical_analysis.html#grammar-token-python-grammar-floatnumber"><code class="xref docutils literal notranslate"><span class="pre">floatnumber</span></code></a> | <a class="reference internal" href="lexical_analysis.html#grammar-token-python-grammar-digitpart"><code class="xref docutils literal notranslate"><span class="pre">digitpart</span></code></a>) (&quot;j&quot; | &quot;J&quot;)
</pre>
<p>虚数リテラルは、実数部が 0.0 の複素数を表します。複素数は二つ組の浮動小数点型の数値で表され、それぞれの数値は浮動小数点型と同じ定義域の範囲を持ちます。実数部がゼロでない浮動小数点を生成するには、 <code class="docutils literal notranslate"><span class="pre">(3+4j)</span></code> のように虚数リテラルに浮動小数点数を加算します。以下に虚数リテラルの例をいくつか示します:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="mf">3.14</span><span class="n">j</span>   <span class="mf">10.</span><span class="n">j</span>    <span class="mi">10</span><span class="n">j</span>     <span class="mf">.001</span><span class="n">j</span>   <span class="mf">1e100j</span>   <span class="mf">3.14e-10</span><span class="n">j</span>   <span class="mf">3.14_15_93</span><span class="n">j</span>
</pre></div>
</div>
</section>
</section>
<section id="operators">
<span id="id14"></span><h2><span class="section-number">2.5. </span>演算子<a class="headerlink" href="lexical_analysis.html#operators" title="Link to this heading">¶</a></h2>
<p id="index-31">以下のトークンは演算子です:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>+       -       *       **      /       //      %      @
&lt;&lt;      &gt;&gt;      &amp;       |       ^       ~       :=
&lt;       &gt;       &lt;=      &gt;=      ==      !=
</pre></div>
</div>
</section>
<section id="delimiters">
<span id="id15"></span><h2><span class="section-number">2.6. </span>デリミタ (delimiter)<a class="headerlink" href="lexical_analysis.html#delimiters" title="Link to this heading">¶</a></h2>
<p id="index-32">以下のトークンは文法上のデリミタとして働きます:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>(       )       [       ]       {       }
,       :       .       ;       @       =       -&gt;
+=      -=      *=      /=      //=     %=      @=
&amp;=      |=      ^=      &gt;&gt;=     &lt;&lt;=     **=
</pre></div>
</div>
<p>ピリオドは浮動小数点数や虚数リテラル中にも置けます。ピリオド三つの列はスライス表記における省略符号 (ellipsis) リテラルとして特別な意味を持ちます。リスト後半の累算代入演算子 (augmented assignment operator) は、字句的にはデリミタとして振舞いますが、演算も行います。</p>
<p>以下の印字可能 ASCII 文字は、他のトークンの一部として特殊な意味を持っていたり、字句解析器にとって重要な意味を持っています:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>&#39;       &quot;       #       \
</pre></div>
</div>
<p>以下の印字可能 ASCII 文字は、Python では使われていません。これらの文字が文字列リテラルやコメントの外にある場合、無条件にエラーとなります:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>$       ?       `
</pre></div>
</div>
<p class="rubric">脚注</p>
<aside class="footnote-list brackets">
<aside class="footnote brackets" id="id16" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="lexical_analysis.html#id12">1</a><span class="fn-bracket">]</span></span>
<p><a class="reference external" href="https://www.unicode.org/Public/15.0.0/ucd/NameAliases.txt">https://www.unicode.org/Public/15.0.0/ucd/NameAliases.txt</a></p>
</aside>
</aside>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <div>
    <h3><a href="../contents.html">目次</a></h3>
    <ul>
<li><a class="reference internal" href="lexical_analysis.html#">2. 字句解析</a><ul>
<li><a class="reference internal" href="lexical_analysis.html#line-structure">2.1. 行構造</a><ul>
<li><a class="reference internal" href="lexical_analysis.html#logical-lines">2.1.1. 論理行 (logical line)</a></li>
<li><a class="reference internal" href="lexical_analysis.html#physical-lines">2.1.2. 物理行 (physical line)</a></li>
<li><a class="reference internal" href="lexical_analysis.html#comments">2.1.3. コメント (Comments)</a></li>
<li><a class="reference internal" href="lexical_analysis.html#encoding-declarations">2.1.4. エンコード宣言 (encoding declaration)</a></li>
<li><a class="reference internal" href="lexical_analysis.html#explicit-line-joining">2.1.5. 明示的な行継続</a></li>
<li><a class="reference internal" href="lexical_analysis.html#implicit-line-joining">2.1.6. 非明示的な行継続</a></li>
<li><a class="reference internal" href="lexical_analysis.html#blank-lines">2.1.7. 空行</a></li>
<li><a class="reference internal" href="lexical_analysis.html#indentation">2.1.8. インデント</a></li>
<li><a class="reference internal" href="lexical_analysis.html#whitespace-between-tokens">2.1.9. トークン間の空白</a></li>
</ul>
</li>
<li><a class="reference internal" href="lexical_analysis.html#other-tokens">2.2. その他のトークン</a></li>
<li><a class="reference internal" href="lexical_analysis.html#identifiers">2.3. 識別子 (identifier) およびキーワード (keyword)</a><ul>
<li><a class="reference internal" href="lexical_analysis.html#keywords">2.3.1. キーワード (keyword)</a></li>
<li><a class="reference internal" href="lexical_analysis.html#soft-keywords">2.3.2. ソフトキーワード</a></li>
<li><a class="reference internal" href="lexical_analysis.html#reserved-classes-of-identifiers">2.3.3. 予約済みの識別子種 (reserved classes of identifiers)</a></li>
</ul>
</li>
<li><a class="reference internal" href="lexical_analysis.html#literals">2.4. リテラル</a><ul>
<li><a class="reference internal" href="lexical_analysis.html#string-and-bytes-literals">2.4.1. 文字列およびバイト列リテラル</a><ul>
<li><a class="reference internal" href="lexical_analysis.html#escape-sequences">2.4.1.1. Escape sequences</a></li>
</ul>
</li>
<li><a class="reference internal" href="lexical_analysis.html#string-literal-concatenation">2.4.2. 文字列リテラルの結合 (concatenation)</a></li>
<li><a class="reference internal" href="lexical_analysis.html#formatted-string-literals">2.4.3. f-strings</a></li>
<li><a class="reference internal" href="lexical_analysis.html#numeric-literals">2.4.4. 数値リテラル</a></li>
<li><a class="reference internal" href="lexical_analysis.html#integer-literals">2.4.5. 整数リテラル</a></li>
<li><a class="reference internal" href="lexical_analysis.html#floating-point-literals">2.4.6. 浮動小数点数リテラル</a></li>
<li><a class="reference internal" href="lexical_analysis.html#imaginary-literals">2.4.7. 虚数 (imaginary) リテラル</a></li>
</ul>
</li>
<li><a class="reference internal" href="lexical_analysis.html#operators">2.5. 演算子</a></li>
<li><a class="reference internal" href="lexical_analysis.html#delimiters">2.6. デリミタ (delimiter)</a></li>
</ul>
</li>
</ul>

  </div>
  <div>
    <h4>前のトピックへ</h4>
    <p class="topless"><a href="introduction.html"
                          title="前の章へ"><span class="section-number">1. </span>はじめに</a></p>
  </div>
  <div>
    <h4>次のトピックへ</h4>
    <p class="topless"><a href="datamodel.html"
                          title="次の章へ"><span class="section-number">3. </span>データモデル</a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>このページ</h3>
    <ul class="this-page-menu">
      <li><a href="../bugs.html">バグ報告</a></li>
      <li>
        <a href="https://github.com/python/cpython/blob/main/Doc/reference/lexical_analysis.rst"
            rel="nofollow">ソースの表示
        </a>
      </li>
    </ul>
  </div>
        </div>
<div id="sidebarbutton" title="サイドバーをたたむ">
<span>«</span>
</div>

      </div>
      <div class="clearer"></div>
    </div>  
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>ナビゲーション</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="総合索引"
             >索引</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Pythonモジュール索引"
             >モジュール</a> |</li>
        <li class="right" >
          <a href="datamodel.html" title="3. データモデル"
             >次へ</a> |</li>
        <li class="right" >
          <a href="introduction.html" title="1. はじめに"
             >前へ</a> |</li>

          <li><img src="../_static/py.svg" alt="Python logo" style="vertical-align: middle; margin-top: -1px"/></li>
          <li><a href="https://www.python.org/">Python</a> &#187;</li>
          <li class="switchers">
            <div class="language_switcher_placeholder"></div>
            <div class="version_switcher_placeholder"></div>
          </li>
          <li>
              
          </li>
    <li id="cpython-language-and-version">
      <a href="../index.html">3.12.4 Documentation</a> &#187;
    </li>

          <li class="nav-item nav-item-1"><a href="index.html" >Python 言語リファレンス</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="lexical_analysis.html"><span class="section-number">2. </span>字句解析</a></li>
                <li class="right">
                    

    <div class="inline-search" role="search">
        <form class="inline-search" action="../search.html" method="get">
          <input placeholder="クイック検索" aria-label="クイック検索" type="search" name="q" id="search-box" />
          <input type="submit" value="検索" />
        </form>
    </div>
                     |
                </li>
            <li class="right">
<label class="theme-selector-label">
    Theme
    <select class="theme-selector" oninput="activateTheme(this.value)">
        <option value="auto" selected>Auto</option>
        <option value="light">Light</option>
        <option value="dark">Dark</option>
    </select>
</label> |</li>
            
      </ul>
    </div>  
    <div class="footer">
    &copy; 
      <a href="../copyright.html">
    
    Copyright
    
      </a>
     2001-2024, Python Software Foundation.
    <br />
    This page is licensed under the Python Software Foundation License Version 2.
    <br />
    Examples, recipes, and other code in the documentation are additionally licensed under the Zero Clause BSD License.
    <br />
    
      See <a href="../../../license.html">History and License</a> for more information.<br />
    
    
    <br />

    The Python Software Foundation is a non-profit corporation.
<a href="https://www.python.org/psf/donations/">Please donate.</a>
<br />
    <br />
      最終更新: Jun 11, 2024 (04:44 UTC)
    
      <a href="../../../bugs.html">Found a bug</a>?
    
    <br />

    Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 7.3.7.
    </div>

    <script type="text/javascript" src="../_static/switchers.js"></script>
  </body>
</html>